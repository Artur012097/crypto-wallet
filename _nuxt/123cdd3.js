(window.webpackJsonp=window.webpackJsonp||[]).push([[38,27,30],{532:function(t,e,n){"use strict";n.r(e);n(30),n(98),n(8);var l=n(227),o=n.n(l),c=n(7),r={name:"SelectInput",directives:{ClickOutside:o.a},components:{CustomIcon:c.default},model:{prop:"value",event:"select"},props:{value:{type:[Number,String],required:!1,default:null},placeholder:{type:[String,Number],default:"Выберите"},options:{type:Array,required:!0},label:{type:String,default:null},defaultStyle:{type:Boolean,default:!0},withoutBorder:Boolean,underline:Boolean},data:function(){return{open:!1,top:!1}},computed:{model:{get:function(){return this.value},set:function(t){this.$emit("select",t)}},selectedOption:function(){var t=this;return void 0!==this.model?this.options.find((function(option){return(null==option?void 0:option.id)===t.model})):null},optionsStyle:function(){return this.top?{bottom:"47px"}:{top:"47px"}}},mounted:function(){var t=this;window.addEventListener("scroll",(function(){t.calculateOptionsPosition()}))},methods:{select:function(option){var t=this,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&this.model===option.id?this.model=null:this.model=option.id,this.$nextTick((function(){t.closeIfOpen()}))},toggleOpen:function(){var t=this;this.open=!this.open,this.$nextTick((function(){t.calculateOptionsPosition()}))},calculateOptionsPosition:function(){var t,e,n,l;if(this.open){var o=null===(t=this.$refs)||void 0===t||null===(e=t.options)||void 0===e||null===(n=e.getBoundingClientRect)||void 0===n?void 0:n.call(e),c=null==o?void 0:o.bottom,r=window.innerHeight;null!==(l=this.$device)&&void 0!==l&&l.isMobile&&(r-=55),this.top&&(c+=null==o?void 0:o.height,c+=47),this.top=c>=r}},closeIfOpen:function(){this.open&&(this.open=!1)}}},d=r,m=n(0),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"select-input",class:{"select-input--default-style":t.defaultStyle,"select-input--without-border":t.withoutBorder,"select-input--underline":t.underline}},[t.label?[n("span",{staticClass:"ml-1 f-medium text-xs text-black-40"},[t._v(t._s(t.label))])]:t._e(),t._v(" "),n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeIfOpen,expression:"closeIfOpen"}],staticClass:"select-input--placeholder text-black-100",on:{click:function(e){return e.target!==e.currentTarget?null:t.toggleOpen.apply(null,arguments)}}},[t._v("\n    "+t._s(t.selectedOption?t.selectedOption.value:t.placeholder)+"\n    "),n("custom-icon",{staticClass:"transition-all ease-in-out duration-300",class:{"rotate-180":t.open},attrs:{"icon-id":"#i-arrow-down",classes:t.withoutBorder?"stroke-black-60":"stroke-black-100"}}),t._v(" "),n("div",{ref:"options",staticClass:"select-input__options",class:{"select-input__options--closed":!t.open},style:t.optionsStyle},[t._l(t.options,(function(option,e){return[n("div",{key:e,staticClass:"select-input__options--item",class:{"select-input__options--item--selected":option.id===t.model},on:{click:function(e){return t.select(option)}}},[t._v("\n          "+t._s(option.value)+"\n        ")])]}))],2)],1)],2)}),[],!1,null,null,null);e.default=component.exports},707:function(t,e,n){"use strict";n.r(e);n(30);var l={name:"RadioList",model:{prop:"value",event:"change"},props:{items:{type:Array,default:null},value:{type:Number,required:!0}},computed:{currentItem:{get:function(){return this.value},set:function(t){this.selectValue(t)}}},methods:{selectValue:function(t){this.$emit("change",t)}}},o=n(0),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[t._l(t.items,(function(e){return[n("li",{key:e.title},[t._t("button",null,{select:t.selectValue,item:e})],2)]}))],2)}),[],!1,null,null,null);e.default=component.exports},726:function(t,e,n){"use strict";n.r(e);n(13),n(10),n(12),n(8),n(15),n(11),n(16);var l=n(4),o=n(6),c=n(532),r=n(238),d=n(172),m=n(707),v=n(171),f=n(148);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var y=function(t){return{get:function(){var e;return null===(e=this.voteSettings)||void 0===e?void 0:e[t]},set:function(e){this.setVoteSetting([t,e])}}},_={name:"CreatePostVoteSettings",components:{RadioList:m.default,CreatePostSettingsTitle:d.default,CreatePostOption:v.default,SelectInput:c.default,DateAndTimeInput:r.default},mixins:[f.a],data:function(){return{typeVotes:[{id:1,title:"анонимный опрос"},{id:2,title:"выбор нескольких вариантов"},{id:3,title:"запретить отмену голоса"}],timeQuotaOptions:[{id:1,value:"1 час"},{id:6,value:"6 часов"},{id:12,value:"12 часов"},{id:24,value:"1 день"}]}},computed:O(O({},Object(o.e)("create-article",["voteSettings"])),{},{currentType:{get:function(){var t,e,n;return null!==(t=this.voteSettings)&&void 0!==t&&t.anonymous?1:null!==(e=this.voteSettings)&&void 0!==e&&e.multipleSelect?2:null!==(n=this.voteSettings)&&void 0!==n&&n.rejectCancellation?3:null},set:function(t){this.setVoteSetting(["anonymous",1===t]),this.setVoteSetting(["multipleSelect",2===t]),this.setVoteSetting(["rejectCancellation",3===t])}},publicateAt:{get:function(){var t,e;return{date:null===(t=this.voteSettings)||void 0===t?void 0:t.publicationDate,time:null===(e=this.voteSettings)||void 0===e?void 0:e.publicationTime}},set:function(t){this.setVoteSetting(["publicationDate",null==t?void 0:t.date]),this.setVoteSetting(["publicationTime",null==t?void 0:t.time])}},timeQuota:y("timeQuotaEnabled"),selectedTimeQuota:y("selectedTimeQuota"),publicationTime:y("publicationTimeEnabled")}),methods:O({},Object(o.d)("create-article",["setVoteSetting"]))},x=n(0),component=Object(x.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h-full px-2 pt-1"},[n("create-post-settings-title",{attrs:{title:"Настройки опроса"}}),t._v(" "),n("radio-list",{attrs:{items:t.typeVotes},scopedSlots:t._u([{key:"button",fn:function(e){var select=e.select,l=e.item;return[n("button",{staticClass:"h-4 flex items-center mb-2 first:mt-2 last:mb-3",on:{click:function(t){return select(l.id)}}},[n("span",{staticClass:"block w-4 h-4 p-[3px] mr-2 border-[2px] rounded-full transition-colors",class:t.currentType===l.id?"radio-active":"border-black-20"},[n("span",{staticClass:"block w-full h-full transition-colors rounded-full"})]),t._v(" "),n("span",{staticClass:"f-regular text-xs text-black-80"},[t._v(t._s(l.title))])])]}}]),model:{value:t.currentType,callback:function(e){t.currentType=e},expression:"currentType"}}),t._v(" "),n("hr",{staticClass:"border-t border-white-20 mt-2 mb-[10.5px]"}),t._v(" "),n("create-post-settings-title",{attrs:{title:"Ограничение на время опроса"}}),t._v(" "),n("create-post-option",{attrs:{"option-name":"ограничить время опроса"},model:{value:t.timeQuota,callback:function(e){t.timeQuota=e},expression:"timeQuota"}},[n("div",{staticClass:"flex px-[21px] mt-2"},[n("div",[n("span",{staticClass:"block mb-2 f-medium text-xs text-black-20"},[t._v("\n          время опроса\n        ")]),t._v(" "),n("select-input",{staticClass:"!w-[328px]",attrs:{options:t.timeQuotaOptions},model:{value:t.selectedTimeQuota,callback:function(e){t.selectedTimeQuota=e},expression:"selectedTimeQuota"}})],1)])]),t._v(" "),n("hr",{staticClass:"border-t border-white-20 mt-2 mb-[10.5px]"}),t._v(" "),n("create-post-settings-title",{attrs:{title:"Время опроса"}}),t._v(" "),n("create-post-option",{attrs:{"option-name":"запланировать опрос"},model:{value:t.publicationTimeEnabledModel,callback:function(e){t.publicationTimeEnabledModel=e},expression:"publicationTimeEnabledModel"}},[n("date-and-time-input",{attrs:{"date-label":"дата публикации опроса","time-label":"время публикации опроса","disabled-date":t.disabledPublicationDate,"disabled-time":t.disabledPublicationTime},model:{value:t.publicationDateAndTimeModel,callback:function(e){t.publicationDateAndTimeModel=e},expression:"publicationDateAndTimeModel"}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CreatePostSettingsTitle:n(172).default,CreatePostOption:n(171).default})}}]);