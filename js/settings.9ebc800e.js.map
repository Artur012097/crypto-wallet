{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./node_modules/core-js/modules/es.object.entries.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./src/pages/Settings.vue","webpack:///./src/pages/Settings.vue?6ada","webpack:///./src/pages/Settings.vue?7513"],"names":["$","$values","values","target","stat","O","$entries","entries","DESCRIPTORS","uncurryThis","objectKeys","toIndexedObject","$propertyIsEnumerable","f","propertyIsEnumerable","push","createMethod","TO_ENTRIES","it","key","keys","length","i","result","module","exports","class","src","alt","$router","history","$isMobile","close","label","id","data","fio","type","ref","placeholder","maxLength","phone_number","email","save","open","openModal","text","name","beforeRouteEnter","to","from","next","vm","prevRoute","computed","user","this","$store","getters","setup","title","mounted","Object","methods","some","dispatch","$api","patch","defaults","API","then","res","console","log","token","localStorage","setItem","JSON","stringify","err","Error","__exports__","render"],"mappings":"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","file":"js/settings.9ebc800e.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.es/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\nvar propertyIsEnumerable = uncurryThis($propertyIsEnumerable);\nvar push = uncurryThis([].push);\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable(O, key)) {\n        push(result, TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","<template>\n  <section class=\"settings\">\n    {{ $router.history }}\n    <div class=\"settings__close\" @click=\"close\" v-if=\"$isMobile\">\n      <img src=\"@/assets/icons/clear.svg\" alt=\"Close\" />\n    </div>\n    <h1 class=\"settings__title page__title\">Мои данные</h1>\n    <div class=\"settings-fields fields page-wrapper\">\n      <div class=\"settings-content-row fields-row\">\n        <base-input\n          :label=\"'Имя и фамилия'\"\n          :id=\"'settingsName'\"\n          v-model=\"data.fio\"\n        />\n      </div>\n      <div class=\"settings-content-row fields-row\">\n        <base-input\n          :label=\"'Телефон'\"\n          :type=\"'tel'\"\n          ref=\"phone\"\n          :placeholder=\"'+7 (___) __-__-___'\"\n          :maxLength=\"18\"\n          :id=\"'settingsPhone'\"\n          v-model=\"data.phone_number\"\n        />\n      </div>\n      <div class=\"settings-content-row\">\n        <base-input\n          :label=\"'Электронная почта'\"\n          :id=\"'settingsEmail'\"\n          v-model=\"data.email\"\n        />\n      </div>\n    </div>\n    <div class=\"settings-buttons page-buttons _save\">\n      <div class=\"settings-buttons-save _save__button\">\n        <base-button :type=\"'filled'\" @clicked=\"save\"> Сохранить </base-button>\n      </div>\n    </div>\n  </section>\n  <base-modal\n    :open=\"openModal\"\n    :text=\"'Сохранено'\"\n    @close=\"openModal = false\"\n  />\n</template>\n\n<script>\nimport { useMeta } from \"vue-meta\";\n\nexport default {\n  name: \"Settings\",\n  beforeRouteEnter(to, from, next) {\n    next((vm) => {\n      vm.prevRoute = from;\n    });\n  },\n  computed: {\n    user() {\n      return this.$store.getters.user;\n    },\n  },\n  data() {\n    return {\n      data: {\n        fio: \"\",\n        phone_number: \"\",\n        email: \"\",\n      },\n      openModal: false,\n      prevRoute: null,\n    };\n  },\n  setup() {\n    useMeta({ title: \"Мои Данные\" });\n  },\n  mounted() {\n    for (const [key] of Object.entries(this.data)) {\n      this.data[key] = this.user[key] || \"\";\n    }\n  },\n  methods: {\n    save() {\n      if (!Object.values(this.data).some((i) => !i)) {\n        this.$store.dispatch(\"loading\", true);\n        this.$api\n          .patch(`${this.$api.defaults.API}/user/${this.user.id}`, this.data)\n          .then((res) => {\n            console.log(res.data);\n            const user = res.data;\n            user.id = this.user.id;\n            user.token = this.user.token;\n            localStorage.setItem(\"user\", JSON.stringify(user));\n            this.$store.dispatch(\"setUser\", user);\n            this.$store.dispatch(\"loading\", false);\n            this.openModal = true;\n          })\n          .catch((err) => {\n            new Error(err);\n            this.$store.dispatch(\"loading\", false);\n          });\n      }\n    },\n    close() {\n      this.$router.push({ name: this.prevRoute.name || \"index\" });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.settings {\n  &-content {\n    margin-bottom: 50px;\n    &__title {\n      font-family: $regular;\n      font-size: 16px;\n      font-weight: 400;\n    }\n  }\n}\n@media (max-width: 992px) {\n  .settings {\n    width: 100%;\n    min-height: 100vh;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background: $white;\n    &__close {\n      display: block;\n      position: absolute;\n      top: 12px;\n      right: 12px;\n      cursor: pointer;\n    }\n    &__title {\n      margin-top: 19px;\n    }\n  }\n}\n</style>\n","import { render } from \"./Settings.vue?vue&type=template&id=3a95225c&scoped=true\"\nimport script from \"./Settings.vue?vue&type=script&lang=js\"\nexport * from \"./Settings.vue?vue&type=script&lang=js\"\n\nimport \"./Settings.vue?vue&type=style&index=0&id=3a95225c&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/artur/Рабочий стол/Projects/sales_software/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3a95225c\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Settings.vue?vue&type=style&index=0&id=3a95225c&lang=scss&scoped=true\""],"sourceRoot":""}