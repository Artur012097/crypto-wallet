(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["offerCreate"],{"0cb2":function(e,t,r){var n=r("e330"),a=r("7b0b"),c=Math.floor,o=n("".charAt),l=n("".replace),u=n("".slice),i=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,s,f){var b=r+e.length,p=n.length,g=d;return void 0!==s&&(s=a(s),g=i),l(f,g,(function(a,l){var i;switch(o(l,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,r);case"'":return u(t,b);case"<":i=s[u(l,1,-1)];break;default:var d=+l;if(0===d)return a;if(d>p){var f=c(d/10);return 0===f?a:f<=p?void 0===n[f-1]?o(l,1):n[f-1]+o(l,1):a}i=n[d-1]}return void 0===i?"":i}))}},1276:function(e,t,r){"use strict";var n=r("2ba4"),a=r("c65b"),c=r("e330"),o=r("d784"),l=r("44e7"),u=r("825a"),i=r("1d80"),d=r("4840"),s=r("8aa5"),f=r("50c4"),b=r("577e"),p=r("dc4a"),g=r("4dae"),j=r("14c3"),O=r("9263"),m=r("9f7f"),v=r("d039"),y=m.UNSUPPORTED_Y,h=4294967295,_=Math.min,V=[].push,x=c(/./.exec),w=c(V),k=c("".slice),C=!v((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));o("split",(function(e,t,r){var c;return c="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var c=b(i(this)),o=void 0===r?h:r>>>0;if(0===o)return[];if(void 0===e)return[c];if(!l(e))return a(t,c,e,o);var u,d,s,f=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),j=0,m=new RegExp(e.source,p+"g");while(u=a(O,m,c)){if(d=m.lastIndex,d>j&&(w(f,k(c,j,u.index)),u.length>1&&u.index<c.length&&n(V,f,g(u,1)),s=u[0].length,j=d,f.length>=o))break;m.lastIndex===u.index&&m.lastIndex++}return j===c.length?!s&&x(m,"")||w(f,""):w(f,k(c,j)),f.length>o?g(f,0,o):f}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:a(t,this,e,r)}:t,[function(t,r){var n=i(this),o=void 0==t?void 0:p(t,e);return o?a(o,t,n,r):a(c,b(n),t,r)},function(e,n){var a=u(this),o=b(e),l=r(c,a,o,n,c!==t);if(l.done)return l.value;var i=d(a,RegExp),p=a.unicode,g=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(y?"g":"y"),O=new i(y?"^(?:"+a.source+")":a,g),m=void 0===n?h:n>>>0;if(0===m)return[];if(0===o.length)return null===j(O,o)?[o]:[];var v=0,V=0,x=[];while(V<o.length){O.lastIndex=y?0:V;var C,S=j(O,y?k(o,V):o);if(null===S||(C=_(f(O.lastIndex+(y?V:0)),o.length))===v)V=s(o,V,p);else{if(w(x,k(o,v,V)),x.length===m)return x;for(var U=1;U<=S.length-1;U++)if(w(x,S[U]),x.length===m)return x;V=v=C}}return w(x,k(o,v)),x}]}),!C,y)},"159b":function(e,t,r){var n=r("da84"),a=r("fdbc"),c=r("785a"),o=r("17c2"),l=r("9112"),u=function(e){if(e&&e.forEach!==o)try{l(e,"forEach",o)}catch(t){e.forEach=o}};for(var i in a)a[i]&&u(n[i]&&n[i].prototype);u(c)},1745:function(e,t,r){},"17c2":function(e,t,r){"use strict";var n=r("b727").forEach,a=r("a640"),c=a("forEach");e.exports=c?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"25f0":function(e,t,r){"use strict";var n=r("e330"),a=r("5e77").PROPER,c=r("6eeb"),o=r("825a"),l=r("3a9b"),u=r("577e"),i=r("d039"),d=r("ad6d"),s="toString",f=RegExp.prototype,b=f[s],p=n(d),g=i((function(){return"/a/b"!=b.call({source:"a",flags:"b"})})),j=a&&b.name!=s;(g||j)&&c(RegExp.prototype,s,(function(){var e=o(this),t=u(e.source),r=e.flags,n=u(void 0===r&&l(f,e)&&!("flags"in f)?p(e):r);return"/"+t+"/"+n}),{unsafe:!0})},"4ce5":function(e,t,r){"use strict";r("1745")},5319:function(e,t,r){"use strict";var n=r("2ba4"),a=r("c65b"),c=r("e330"),o=r("d784"),l=r("d039"),u=r("825a"),i=r("1626"),d=r("5926"),s=r("50c4"),f=r("577e"),b=r("1d80"),p=r("8aa5"),g=r("dc4a"),j=r("0cb2"),O=r("14c3"),m=r("b622"),v=m("replace"),y=Math.max,h=Math.min,_=c([].concat),V=c([].push),x=c("".indexOf),w=c("".slice),k=function(e){return void 0===e?e:String(e)},C=function(){return"$0"==="a".replace(/./,"$0")}(),S=function(){return!!/./[v]&&""===/./[v]("a","$0")}(),U=!l((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));o("replace",(function(e,t,r){var c=S?"$":"$0";return[function(e,r){var n=b(this),c=void 0==e?void 0:g(e,v);return c?a(c,e,n,r):a(t,f(n),e,r)},function(e,a){var o=u(this),l=f(e);if("string"==typeof a&&-1===x(a,c)&&-1===x(a,"$<")){var b=r(t,o,l,a);if(b.done)return b.value}var g=i(a);g||(a=f(a));var m=o.global;if(m){var v=o.unicode;o.lastIndex=0}var C=[];while(1){var S=O(o,l);if(null===S)break;if(V(C,S),!m)break;var U=f(S[0]);""===U&&(o.lastIndex=p(l,s(o.lastIndex),v))}for(var E="",P=0,I=0;I<C.length;I++){S=C[I];for(var $=f(S[0]),M=y(h(d(S.index),l.length),0),q=[],T=1;T<S.length;T++)V(q,k(S[T]));var F=S.groups;if(g){var R=_([$],q,M,l);void 0!==F&&V(R,F);var z=f(n(a,void 0,R))}else z=j($,l,M,q,F,a);M>=P&&(E+=w(l,P,M)+z,P=M+$.length)}return E+w(l,P)}]}),!U||!C||S)},7197:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a=function(e){return Object(n["x"])("data-v-39e2db88"),e=e(),Object(n["v"])(),e},c={class:"offer-create"},o={class:"offer-create__title page__title"},l=Object(n["i"])(" Коммерческое предложение "),u={key:0},i={key:1},d={class:"offer-create-wrapper page-wrapper"},s={class:"offer-create-fields fields"},f={class:"offer-create-fields-row fields-row"},b={class:"offer-create-fields-row fields-row"},p={class:"offer-create-fields-row fields-row _area"},g={class:"offer-create-fields-row fields-row"},j={class:"offer-create-fields-row fields-row"},O={class:"offer-create-fields-row fields-row"},m={class:"offer-create-fields-row fields-row _validy"},v={class:"offer-create-fields-row fields-row _area"},y={class:"offer-create-fields-row fields-row"},h={class:"offer-create-products"},_=a((function(){return Object(n["g"])("h5",{class:"offer-create-products__title"},"Продукция",-1)})),V={class:"offer-create-products-row article-row"},x={class:"offer-create-products-field article-row-field"},w={class:"offer-create-products-add article-row-button"},k=Object(n["i"])(" Добавить "),C=a((function(){return Object(n["g"])("h5",{class:"offer-create-company__title"},"Выбрать компанию",-1)})),S={class:"offer-create-company__select"},U={class:"offer-create-type"},E=a((function(){return Object(n["g"])("h5",{class:"offer-create-type__title"},"Сохранить",-1)})),P={class:"offer-create-types"},I={class:"base-check"},$=a((function(){return Object(n["g"])("label",{for:"offerCreatePdf",class:"upp"}," pdf ",-1)})),M={class:"base-check _excel"},q=a((function(){return Object(n["g"])("label",{for:"offerCreateExcel"}," Excel ",-1)})),T={class:"offer-create-type _get-ready"},F=a((function(){return Object(n["g"])("h5",{class:"offer-create-type__title _get-ready"},"Подготовить",-1)})),R={class:"offer-create-types _get-ready"},z={class:"base-check"},D=a((function(){return Object(n["g"])("label",{for:"offerReadyTz",class:"upp"}," тз ",-1)})),L={class:"base-check upp _ru"},N=a((function(){return Object(n["g"])("label",{for:"offerReadyRu",class:"upp"}," ру ",-1)})),A={key:0,class:"offer-create-tzType"},B=a((function(){return Object(n["g"])("h6",null,"Тип",-1)})),K={class:"base-check radio"},H=a((function(){return Object(n["g"])("label",{for:"offerCreateKtru",class:"upp"}," ктру ",-1)})),J={class:"base-check radio"},Y=a((function(){return Object(n["g"])("label",{for:"offerCreateTu",class:"upp"}," ту ",-1)})),G={class:"base-check radio"},Q=a((function(){return Object(n["g"])("label",{for:"offerCreateKtrus"},[Object(n["g"])("span",{class:"upp"},"ктру"),Object(n["i"])(" сокр. ")],-1)})),W={class:"offer-create-actions page-buttons"},X={class:"offer-create__send"},Z=Object(n["i"])(" Отправить "),ee={class:"offer-create__save"},te=Object(n["i"])(" Сохранить "),re={class:"offer-create__dl"},ne=Object(n["i"])(" Скачать ");function ae(e,t,r,a,ae,ce){var oe=Object(n["C"])("base-input"),le=Object(n["C"])("base-textarea"),ue=Object(n["C"])("base-button"),ie=Object(n["C"])("offer-create-table"),de=Object(n["C"])("base-select");return Object(n["u"])(),Object(n["f"])("section",c,[Object(n["g"])("h1",o,[l,ae.edit&&ae.offer?(Object(n["u"])(),Object(n["f"])("span",u,"№"+Object(n["F"])(ae.offer.id),1)):Object(n["e"])("",!0),ae.edit&&ae.offer?(Object(n["u"])(),Object(n["f"])("h2",i,Object(n["F"])(ce.offerDate),1)):Object(n["e"])("",!0)]),Object(n["g"])("div",d,[Object(n["g"])("div",s,[Object(n["g"])("div",f,[Object(n["j"])(oe,{label:"Контрагент",id:"offerCreatecounterparty",suggestions:ae.suggestions,search:!0,onSetSuggestion:t[0]||(t[0]=function(e){return ae.counterparty=e}),modelValue:ae.counterparty,"onUpdate:modelValue":t[1]||(t[1]=function(e){return ae.counterparty=e})},null,8,["suggestions","modelValue"])]),Object(n["g"])("div",b,[Object(n["j"])(oe,{label:"ИНН",id:"offerCreateInn",disbled:!0,disabled:ae.inn&&!0,readonly:ae.inn&&!0,modelValue:ae.inn,"onUpdate:modelValue":t[2]||(t[2]=function(e){return ae.inn=e})},null,8,["disabled","readonly","modelValue"])]),Object(n["g"])("div",p,[Object(n["j"])(le,{label:"Адрес",id:"offerCreateAddress",disabled:ae.address&&!0,readonly:ae.address&&!0,modelValue:ae.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return ae.address=e})},null,8,["disabled","readonly","modelValue"])]),Object(n["g"])("div",g,[Object(n["j"])(oe,{label:"Телефон",id:"offerCreatePhone",disabled:ae.phone&&!0,readonly:ae.phone&&!0,modelValue:ae.phone,"onUpdate:modelValue":t[4]||(t[4]=function(e){return ae.phone=e})},null,8,["disabled","readonly","modelValue"])]),Object(n["g"])("div",j,[Object(n["j"])(oe,{label:"Электронная почта",id:"offerCreateEmail",disabled:ae.email&&!0,readonly:ae.email&&!0,modelValue:ae.email,"onUpdate:modelValue":t[5]||(t[5]=function(e){return ae.email=e})},null,8,["disabled","readonly","modelValue"])]),Object(n["g"])("div",O,[Object(n["j"])(oe,{label:"Контактное лицо",id:"offerCreateContact",disabled:ae.contactPerson&&!0,readonly:ae.contactPerson&&!0,modelValue:ae.contactPerson,"onUpdate:modelValue":t[6]||(t[6]=function(e){return ae.contactPerson=e})},null,8,["disabled","readonly","modelValue"])]),Object(n["g"])("div",m,[Object(n["j"])(oe,{label:"Срок действия",short:!0,id:"offerCreateValidy",disabled:ae.validy&&!0,readonly:ae.validy&&!0,modelValue:ae.validy,"onUpdate:modelValue":t[7]||(t[7]=function(e){return ae.validy=e})},null,8,["disabled","readonly","modelValue"])]),Object(n["g"])("div",v,[Object(n["j"])(oe,{label:"Конечный заказчик",id:"offerCreateEndCustomer",suggestions:ae.suggestions,search:!0,onSetSuggestion:t[8]||(t[8]=function(e){return ae.endCustomer=e}),modelValue:ae.endCustomer,"onUpdate:modelValue":t[9]||(t[9]=function(e){return ae.endCustomer=e})},null,8,["suggestions","modelValue"])]),Object(n["g"])("div",y,[Object(n["j"])(oe,{label:"Регион",id:"offerCreateRegion",disabled:ae.region&&!0,readonly:ae.region&&!0,modelValue:ae.region,"onUpdate:modelValue":t[10]||(t[10]=function(e){return ae.region=e})},null,8,["disabled","readonly","modelValue"])])]),Object(n["g"])("div",h,[_,Object(n["g"])("div",V,[Object(n["g"])("div",x,[Object(n["j"])(oe,{id:"offerCreatecounterparty",placeholder:"Артикул или наименование",search:!0,suggestions:ae.suggestions,onSetSuggestion:t[11]||(t[11]=function(e){return ae.productsSearch=e}),modelValue:ae.productsSearch,"onUpdate:modelValue":t[12]||(t[12]=function(e){return ae.productsSearch=e})},null,8,["suggestions","modelValue"])]),Object(n["g"])("div",w,[Object(n["j"])(ue,{type:"outlined",onClicked:ce.addProduct},{default:Object(n["L"])((function(){return[k]})),_:1},8,["onClicked"])])]),Object(n["j"])(ie,{products:ae.products,onRemoveProduct:ce.removeProduct},null,8,["products","onRemoveProduct"])]),Object(n["g"])("div",{class:Object(n["p"])(["offer-create-company",{filled:ae.products.length}])},[C,Object(n["g"])("div",S,[Object(n["j"])(de,{options:ae.companies,modelValue:ae.company,"onUpdate:modelValue":t[13]||(t[13]=function(e){return ae.company=e}),borderOnly:!0},null,8,["options","modelValue"])])],2),Object(n["g"])("div",U,[E,Object(n["g"])("div",P,[Object(n["g"])("div",I,[Object(n["M"])(Object(n["g"])("input",{type:"checkbox",id:"offerCreatePdf","onUpdate:modelValue":t[14]||(t[14]=function(e){return ae.pdf=e})},null,512),[[n["H"],ae.pdf]]),$]),Object(n["g"])("div",M,[Object(n["M"])(Object(n["g"])("input",{type:"checkbox",id:"offerCreateExcel","onUpdate:modelValue":t[15]||(t[15]=function(e){return ae.excel=e})},null,512),[[n["H"],ae.excel]]),q])])]),Object(n["g"])("div",T,[F,Object(n["g"])("div",R,[Object(n["g"])("div",z,[Object(n["M"])(Object(n["g"])("input",{type:"checkbox",id:"offerReadyTz","onUpdate:modelValue":t[16]||(t[16]=function(e){return ae.tz=e})},null,512),[[n["H"],ae.tz]]),D]),Object(n["g"])("div",L,[Object(n["M"])(Object(n["g"])("input",{type:"checkbox",id:"offerReadyRu","onUpdate:modelValue":t[17]||(t[17]=function(e){return ae.ru=e})},null,512),[[n["H"],ae.ru]]),N])]),ae.tz?(Object(n["u"])(),Object(n["f"])("div",A,[B,Object(n["g"])("div",null,[Object(n["g"])("div",K,[Object(n["M"])(Object(n["g"])("input",{type:"radio",id:"offerCreateKtru",value:"ktru","onUpdate:modelValue":t[18]||(t[18]=function(e){return ae.tzType=e})},null,512),[[n["I"],ae.tzType]]),H]),Object(n["g"])("div",J,[Object(n["M"])(Object(n["g"])("input",{type:"radio",id:"offerCreateTu",value:"tu","onUpdate:modelValue":t[19]||(t[19]=function(e){return ae.tzType=e})},null,512),[[n["I"],ae.tzType]]),Y]),Object(n["g"])("div",G,[Object(n["M"])(Object(n["g"])("input",{type:"radio",id:"offerCreateKtrus",value:"ktrus","onUpdate:modelValue":t[20]||(t[20]=function(e){return ae.tzType=e})},null,512),[[n["I"],ae.tzType]]),Q])])])):Object(n["e"])("",!0)])]),Object(n["g"])("div",W,[Object(n["g"])("div",X,[Object(n["j"])(ue,{type:"filled"},{default:Object(n["L"])((function(){return[Z]})),_:1})]),Object(n["g"])("div",ee,[Object(n["j"])(ue,{type:"outlined"},{default:Object(n["L"])((function(){return[te]})),_:1})]),Object(n["g"])("div",re,[Object(n["j"])(ue,{type:"outlined"},{default:Object(n["L"])((function(){return[ne]})),_:1})])])])}r("99af"),r("b0c0"),r("c740"),r("a434");var ce=r("2141"),oe=["for"],le=["id","name","required","disabled","readonly","placeholder","value","minLength","maxlength"],ue={key:1,class:"based-textarea__msg"};function ie(e,t,r,a,c,o){return Object(n["u"])(),Object(n["f"])("div",{class:Object(n["p"])(["based-textarea",{"based-textarea-error":r.message,"based-textarea-row":r.label}])},[r.label?(Object(n["u"])(),Object(n["f"])("label",{key:0,for:r.id},Object(n["F"])(r.label),9,oe)):Object(n["e"])("",!0),Object(n["g"])("textarea",{ref:"textarea",class:Object(n["p"])({error:r.error}),id:r.id,name:r.id,required:r.required,disabled:r.disabled,readonly:r.readonly,placeholder:r.placeholder,value:r.modelValue,minLength:r.minLength?r.minLength:"",maxlength:r.maxLength?r.maxLength:"",onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value),e.$emit("input")}),onFocus:t[1]||(t[1]=function(t){return e.$emit("focus")}),onBlur:t[2]||(t[2]=function(t){return e.$emit("blur")}),onClick:t[3]||(t[3]=function(t){return e.$emit("click")}),onKeypress:[t[4]||(t[4]=Object(n["N"])((function(t){return e.$emit("keypressEnter")}),["enter"])),t[5]||(t[5]=function(t){return e.$emit("keypress")})]},null,42,le),r.error?(Object(n["u"])(),Object(n["f"])("span",ue,Object(n["F"])(r.message),1)):Object(n["e"])("",!0)],2)}r("a9e3");var de={name:"BaseTextarea",props:{id:{type:String},label:{type:String,default:""},error:{type:Boolean,default:!1},required:{type:Boolean},message:{type:String,default:""},placeholder:{type:String,default:""},modelValue:{type:[String,Number],required:!0},minLength:{type:Number},maxLength:{type:Number},disabled:{type:Boolean},readonly:{type:Boolean}},methods:{},emits:["update:modelValue","clear","input","focus","blur","click","keypressEnter","keypress"]},se=(r("f26d"),r("6b0d")),fe=r.n(se);const be=fe()(de,[["render",ie],["__scopeId","data-v-10dfe7a2"]]);var pe=be,ge=r("30a8"),je=r("be12"),Oe=r("c8de"),me=r.n(Oe),ve=function(e){return Object(n["x"])("data-v-8a7b0d40"),e=e(),Object(n["v"])(),e},ye={key:0,class:"offer-create-table"},he=ve((function(){return Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[Object(n["g"])("th",null,"Артикул"),Object(n["g"])("th",null,"Наименование"),Object(n["g"])("th",null,"Цена"),Object(n["g"])("th",null,"Кол-во"),Object(n["g"])("th",null,"Скидка"),Object(n["g"])("th",null,"Стоимость"),Object(n["g"])("th")])],-1)})),_e={key:0},Ve={class:"tooltip"},xe={class:"tooltip"},we={class:"no-wrap"},ke={class:"no-wrap"},Ce={class:"no-wrap"},Se={class:"tooltip"},Ue={class:"no-wrap"},Ee=["onClick"],Pe=ve((function(){return Object(n["g"])("img",{src:me.a,alt:"Remove"},null,-1)})),Ie=[Pe],$e={key:1,class:"offer-create-table-mobile table-mobile",ref:"table"},Me=["onClick"],qe=ve((function(){return Object(n["g"])("img",{src:me.a,alt:"Remove"},null,-1)})),Te=[qe],Fe={class:"table-mobile-row"},Re=ve((function(){return Object(n["g"])("span",{class:"table-mobile__title"}," Артикул ",-1)})),ze={class:"table-mobile__value"},De={class:"table-mobile-row"},Le=ve((function(){return Object(n["g"])("span",{class:"table-mobile__title"}," Наим-ие ",-1)})),Ne={class:"table-mobile__value"},Ae={class:"table-mobile-row"},Be=ve((function(){return Object(n["g"])("span",{class:"table-mobile__title"}," Цена ",-1)})),Ke={class:"table-mobile__value"},He={class:"table-mobile-row"},Je=ve((function(){return Object(n["g"])("span",{class:"table-mobile__title"}," Кол-во ",-1)})),Ye={class:"table-mobile__value"},Ge={class:"table-mobile-row"},Qe=ve((function(){return Object(n["g"])("span",{class:"table-mobile__title"}," Скидка ",-1)})),We={class:"table-mobile__value"},Xe={class:"table-mobile-row"},Ze=ve((function(){return Object(n["g"])("span",{class:"table-mobile__title"}," Стоимость ",-1)})),et={class:"table-mobile__value"},tt={key:2,class:"offer-create-price"},rt={class:"offer-create-price__discount"},nt=ve((function(){return Object(n["g"])("span",null," Скидка ",-1)})),at={class:"offer-create-price__total"},ct=ve((function(){return Object(n["g"])("span",null," Общая стоимость ",-1)}));function ot(e,t,r,a,c,o){var l=Object(n["C"])("base-input"),u=Object(n["D"])("tooltip");return Object(n["u"])(),Object(n["f"])(n["a"],null,[e.$isMobile?r.products.length&&e.$isMobile?(Object(n["u"])(),Object(n["f"])("div",$e,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["A"])(r.products,(function(t,r){return Object(n["u"])(),Object(n["f"])("div",{class:"table-mobile-column",key:r},[Object(n["g"])("span",{class:"_remove",onClick:function(){e.$emit("removeProduct",t.id)}},Te,8,Me),Object(n["g"])("div",Fe,[Re,Object(n["g"])("span",ze,Object(n["F"])(t.article),1)]),Object(n["g"])("div",De,[Le,Object(n["g"])("span",Ne,Object(n["F"])(t.name),1)]),Object(n["g"])("div",Ae,[Be,Object(n["g"])("span",Ke,[Object(n["j"])(l,{type:"text",tableInput:!0,modelValue:t.price,"onUpdate:modelValue":function(e){return t.price=e}},null,8,["modelValue","onUpdate:modelValue"])])]),Object(n["g"])("div",He,[Je,Object(n["g"])("span",Ye,[Object(n["j"])(l,{type:"text",tableInput:!0,modelValue:t.quantity,"onUpdate:modelValue":function(e){return t.quantity=e}},null,8,["modelValue","onUpdate:modelValue"])])]),Object(n["g"])("div",Ge,[Qe,Object(n["g"])("span",We,[Object(n["j"])(l,{type:"text",tableInput:!0,modelValue:t.discount,"onUpdate:modelValue":function(e){return t.discount=e}},null,8,["modelValue","onUpdate:modelValue"])])]),Object(n["g"])("div",Xe,[Ze,Object(n["g"])("span",et,Object(n["F"])(o.validateNumberString(o.price(t.price)*o.quantity(t.quantity)))+",00 ₽ ",1)])])})),128))],512)):Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("table",ye,[he,r.products.length?(Object(n["u"])(),Object(n["f"])("tbody",_e,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["A"])(r.products,(function(t,r){return Object(n["u"])(),Object(n["f"])("tr",{key:r},[Object(n["g"])("td",null,[Object(n["g"])("span",null,Object(n["F"])(t.article),1),Object(n["M"])((Object(n["u"])(),Object(n["f"])("span",Ve,[Object(n["i"])(Object(n["F"])(t.article),1)])),[[u]])]),Object(n["g"])("td",null,[Object(n["g"])("span",null,Object(n["F"])(t.name),1),Object(n["M"])((Object(n["u"])(),Object(n["f"])("span",xe,[Object(n["i"])(Object(n["F"])(t.name),1)])),[[u]])]),Object(n["g"])("td",we,[Object(n["j"])(l,{type:"text",tableInput:!0,modelValue:t.price,"onUpdate:modelValue":function(e){return t.price=e}},null,8,["modelValue","onUpdate:modelValue"])]),Object(n["g"])("td",ke,[Object(n["j"])(l,{type:"text",tableInput:!0,modelValue:t.quantity,"onUpdate:modelValue":function(e){return t.quantity=e}},null,8,["modelValue","onUpdate:modelValue"])]),Object(n["g"])("td",Ce,[Object(n["j"])(l,{type:"text",tableInput:!0,modelValue:t.discount,"onUpdate:modelValue":function(e){return t.discount=e}},null,8,["modelValue","onUpdate:modelValue"])]),Object(n["g"])("td",null,[Object(n["g"])("span",null,Object(n["F"])(o.validateNumberString(o.price(t.price)*o.quantity(t.quantity)))+",00 ₽ ",1),Object(n["M"])((Object(n["u"])(),Object(n["f"])("span",Se,[Object(n["i"])(Object(n["F"])(o.validateNumberString(o.price(t.price)*o.quantity(t.quantity)))+",00 ₽ ",1)])),[[u]])]),Object(n["g"])("td",Ue,[Object(n["g"])("span",{class:"_remove",onClick:function(){e.$emit("removeProduct",t.id)}},Ie,8,Ee)])])})),128))])):Object(n["e"])("",!0)])),r.products.length?(Object(n["u"])(),Object(n["f"])("div",tt,[Object(n["g"])("div",null,[Object(n["g"])("div",rt,[nt,Object(n["g"])("span",null,Object(n["F"])(o.validateNumberString(o.totalDiscountedPrice))+",00 ₽ ",1)]),Object(n["g"])("div",at,[ct,Object(n["g"])("span",null,Object(n["F"])(o.validateNumberString(o.totalPrice-o.totalDiscountedPrice))+",00 ₽ ",1)])])])):Object(n["e"])("",!0)],64)}r("fb6a"),r("d3b7"),r("159b"),r("25f0"),r("ac1f"),r("5319"),r("1276");var lt=function(e){return+e.replace(/\D/g,"")},ut=function(e){return e.toString().split("").reduce((function(t,r,n){return t+r+(n%3===2&&n!==e.toString().length-1?" ":"")}),"")},it={name:"OfferCreateTable",props:{products:{type:Array}},components:{BaseInput:ce["a"]},methods:{validateNumberString:ut},computed:{price:function(){return function(e){return lt(e.slice(0,-4))}},quantity:function(){return function(e){return lt(e)}},totalDiscountedPrice:function(){var e=0;return console.log(),this.products.forEach((function(t){return e+=lt(t.price.slice(0,-4))*lt(t.quantity)*lt(t.discount)/100})),e},totalPrice:function(){var e=0;return this.products.forEach((function(t){return e+=lt(t.price.slice(0,-4))*lt(t.quantity)})),console.log(e.toString()),e.toString()}},emits:["removeProduct"]};r("bff1");const dt=fe()(it,[["render",ot],["__scopeId","data-v-8a7b0d40"]]);var st=dt,ft={components:{BaseInput:ce["a"],BaseTextarea:pe,BaseButton:ge["a"],BaseSelect:je["a"],OfferCreateTable:st},computed:{offerDate:function(){var e=new Date(this.offer.created_at),t=e.getDate()<10?"0"+e.getDate():e.getDate(),r=e.toLocaleString("ru",{month:"long"}),n=e.getFullYear();return"".concat(t," ").concat(r," ").concat(n)}},data:function(){return{offer:null,counterparty:"",inn:"",address:"",phone:"",email:"",contactPerson:"",validy:"",endCustomer:"",region:"",pdf:!1,excel:!1,tz:!1,ru:!1,tzType:"",ready:"",productsSearch:"",edit:!!this.$route.query.id,companies:[{key:"asdad",value:"Aasdads"},{key:"asdasffefsfd",value:"Fefef"},{key:"dwede",value:"Gewfwef"}],products:[{id:1,article:"EP.01",name:"Помпа ирригационная эндоскопическая ENDOMATE PUMP",price:"268 900,00 ₽",quantity:"1 шт",discount:"30%"},{id:2,article:"EM.CO2.01",name:"Эндоскопический инсуффлятор углекислого газа ENDOMATE C02",price:"542 750,00 ₽",quantity:"1 шт",discount:"30%"}],company:"",suggestions:["8/21-ES","7/21-ES","6/21-ES","5/21-ES"]}},mounted:function(){this.edit&&this.getOffer()},methods:{getOffer:function(){var e=this;this.$api.get("".concat("https://51.250.6.131/api/v1","/offer/").concat(this.$route.query.id)).then((function(t){e.offer=t.data,e.counterparty=e.offer.counterparty.name||"",e.inn=e.offer.counterparty.inn||"",e.address="".concat(e.offer.counterparty.address_street&&e.offer.counterparty.address_street+","," ").concat(e.offer.counterparty.address_city&&e.offer.counterparty.address_city+","," ").concat(e.offer.counterparty.address_country&&e.offer.counterparty.address_country+","," ").concat(e.offer.counterparty.address_index&&e.offer.counterparty.address_index),e.phone="+".concat(e.offer.counterparty.phone_number),e.email=e.offer.counterparty.email,e.contactPerson=e.offer.counterparty.contact_person,e.endCustomer=e.offer.end_customer.name,e.region=e.offer.end_customer.region,console.log(e.offer),console.log(t.data)}))},addProduct:function(){console.log("addProduct")},removeProduct:function(e){console.log(e);var t=this.products.findIndex((function(t){return t.id==e}));this.products.splice(t,1)}}};r("4ce5");const bt=fe()(ft,[["render",ae],["__scopeId","data-v-39e2db88"]]);t["default"]=bt},"8aa5":function(e,t,r){"use strict";var n=r("6547").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},a434:function(e,t,r){"use strict";var n=r("23e7"),a=r("da84"),c=r("23cb"),o=r("5926"),l=r("07fa"),u=r("7b0b"),i=r("65f0"),d=r("8418"),s=r("1dde"),f=s("splice"),b=a.TypeError,p=Math.max,g=Math.min,j=9007199254740991,O="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var r,n,a,s,f,m,v=u(this),y=l(v),h=c(e,y),_=arguments.length;if(0===_?r=n=0:1===_?(r=0,n=y-h):(r=_-2,n=g(p(o(t),0),y-h)),y+r-n>j)throw b(O);for(a=i(v,n),s=0;s<n;s++)f=h+s,f in v&&d(a,s,v[f]);if(a.length=n,r<n){for(s=h;s<y-n;s++)f=s+n,m=s+r,f in v?v[m]=v[f]:delete v[m];for(s=y;s>y-n+r;s--)delete v[s-1]}else if(r>n)for(s=y-n;s>h;s--)f=s+n-1,m=s+r-1,f in v?v[m]=v[f]:delete v[m];for(s=0;s<r;s++)v[s+h]=arguments[s+2];return v.length=y-n+r,a}})},a640:function(e,t,r){"use strict";var n=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},bff1:function(e,t,r){"use strict";r("e42f")},c740:function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").findIndex,c=r("44d2"),o="findIndex",l=!0;o in[]&&Array(1)[o]((function(){l=!1})),n({target:"Array",proto:!0,forced:l},{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),c(o)},e42f:function(e,t,r){},f26d:function(e,t,r){"use strict";r("fcc3")},fcc3:function(e,t,r){}}]);
//# sourceMappingURL=offerCreate.df718610.js.map