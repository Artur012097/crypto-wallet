(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["offerCreate"],{"0cb2":function(e,t,r){var a=r("e330"),n=r("7b0b"),c=Math.floor,l=a("".charAt),o=a("".replace),u=a("".slice),i=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,a,s,f){var b=r+e.length,p=a.length,j=d;return void 0!==s&&(s=n(s),j=i),o(f,j,(function(n,o){var i;switch(l(o,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,r);case"'":return u(t,b);case"<":i=s[u(o,1,-1)];break;default:var d=+o;if(0===d)return n;if(d>p){var f=c(d/10);return 0===f?n:f<=p?void 0===a[f-1]?l(o,1):a[f-1]+l(o,1):n}i=a[d-1]}return void 0===i?"":i}))}},"159b":function(e,t,r){var a=r("da84"),n=r("fdbc"),c=r("785a"),l=r("17c2"),o=r("9112"),u=function(e){if(e&&e.forEach!==l)try{o(e,"forEach",l)}catch(t){e.forEach=l}};for(var i in n)n[i]&&u(a[i]&&a[i].prototype);u(c)},"17c2":function(e,t,r){"use strict";var a=r("b727").forEach,n=r("a640"),c=n("forEach");e.exports=c?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},5319:function(e,t,r){"use strict";var a=r("2ba4"),n=r("c65b"),c=r("e330"),l=r("d784"),o=r("d039"),u=r("825a"),i=r("1626"),d=r("5926"),s=r("50c49"),f=r("577e"),b=r("1d80"),p=r("8aa5"),j=r("dc4a"),g=r("0cb2"),O=r("14c3"),y=r("b622"),m=y("replace"),v=Math.max,h=Math.min,V=c([].concat),w=c([].push),_=c("".indexOf),x=c("".slice),C=function(e){return void 0===e?e:String(e)},k=function(){return"$0"==="a".replace(/./,"$0")}(),E=function(){return!!/./[m]&&""===/./[m]("a","$0")}(),U=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));l("replace",(function(e,t,r){var c=E?"$":"$0";return[function(e,r){var a=b(this),c=void 0==e?void 0:j(e,m);return c?n(c,e,a,r):n(t,f(a),e,r)},function(e,n){var l=u(this),o=f(e);if("string"==typeof n&&-1===_(n,c)&&-1===_(n,"$<")){var b=r(t,l,o,n);if(b.done)return b.value}var j=i(n);j||(n=f(n));var y=l.global;if(y){var m=l.unicode;l.lastIndex=0}var k=[];while(1){var E=O(l,o);if(null===E)break;if(w(k,E),!y)break;var U=f(E[0]);""===U&&(l.lastIndex=p(o,s(l.lastIndex),m))}for(var I="",S=0,$=0;$<k.length;$++){E=k[$];for(var M=f(E[0]),T=v(h(d(E.index),o.length),0),q=[],P=1;P<E.length;P++)w(q,C(E[P]));var z=E.groups;if(j){var F=V([M],q,T,o);void 0!==z&&w(F,z);var L=f(a(n,void 0,F))}else L=g(M,o,T,q,z,n);T>=S&&(I+=x(o,S,T)+L,S=T+M.length)}return I+x(o,S)}]}),!U||!k||E)},"654b":function(e,t,r){"use strict";r("847a")},7197:function(e,t,r){"use strict";r.r(t);r("b0c0");var a=r("7a23"),n=r("c8de"),c=r.n(n),l=function(e){return Object(a["x"])("data-v-58442a52"),e=e(),Object(a["v"])(),e},o={class:"offer-create"},u=l((function(){return Object(a["g"])("h1",{class:"offer-create__title page__title"},[Object(a["i"])(" Коммерческое предложение № 1 "),Object(a["g"])("h2",null,"30 октябра 2021")],-1)})),i={class:"offer-create-wrapper page-wrapper"},d={class:"offer-create-fields fields"},s={class:"offer-create-fields-row fields-row"},f={class:"offer-create-fields-row fields-row"},b={class:"offer-create-fields-row fields-row _area"},p={class:"offer-create-fields-row fields-row"},j={class:"offer-create-fields-row fields-row"},g={class:"offer-create-fields-row fields-row"},O={class:"offer-create-fields-row fields-row _validy"},y={class:"offer-create-fields-row fields-row _area"},m={class:"offer-create-fields-row fields-row"},v={class:"offer-create-products"},h=l((function(){return Object(a["g"])("h5",{class:"offer-create-products__title"},"Продукция",-1)})),V={class:"offer-create-products-row article-row"},w={class:"offer-create-products-field article-row-field"},_={class:"offer-create-products-add article-row-button"},x=Object(a["i"])(" Добавить "),C={class:"offer-create-table"},k=l((function(){return Object(a["g"])("thead",null,[Object(a["g"])("tr",null,[Object(a["g"])("th",null,"Артикул"),Object(a["g"])("th",null,"Наименование"),Object(a["g"])("th",null,"Цена"),Object(a["g"])("th",null,"Кол-во"),Object(a["g"])("th",null,"Скидка"),Object(a["g"])("th",null,"Стоимость"),Object(a["g"])("th")])],-1)})),E={class:"tooltip"},U={class:"tooltip"},I={class:"no-wrap"},S={class:"no-wrap"},$={class:"no-wrap"},M={class:"tooltip"},T={class:"no-wrap"},q=["onClick"],P=l((function(){return Object(a["g"])("img",{src:c.a,alt:"Remove"},null,-1)})),z=[P],F={class:"offer-create-price"},L={class:"offer-create-price__discount"},B=l((function(){return Object(a["g"])("span",null," Скидка ",-1)})),A={class:"offer-create-price__total"},R=l((function(){return Object(a["g"])("span",null," Общая стоимость ",-1)})),D={class:"offer-create-company"},N=l((function(){return Object(a["g"])("h5",{class:"offer-create-company__title"},"Выбрать компанию",-1)})),K={class:"offer-create-company__select"},J={class:"offer-create-type"},G=l((function(){return Object(a["g"])("h5",{class:"offer-create-type__title"},"Сохранить",-1)})),H={class:"offer-create-types"},Q={class:"base-check"},W=l((function(){return Object(a["g"])("label",{for:"offerCreatePdf",class:"upp"}," pdf ",-1)})),X={class:"base-check upp _excel"},Y=l((function(){return Object(a["g"])("label",{for:"offerCreateExcel"}," Excel ",-1)})),Z={class:"offer-create-type _get-ready"},ee=l((function(){return Object(a["g"])("h5",{class:"offer-create-type__title _get-ready"},"Подготовить",-1)})),te={class:"offer-create-types _get-ready"},re={class:"base-check"},ae=l((function(){return Object(a["g"])("label",{for:"offerReadyTz",class:"upp"}," тз ",-1)})),ne={class:"base-check upp _ru"},ce=l((function(){return Object(a["g"])("label",{for:"offerReadyRu",class:"upp"}," ру ",-1)})),le={key:0,class:"offer-create-tzType"},oe=l((function(){return Object(a["g"])("h6",null,"Тип",-1)})),ue={class:"base-check radio"},ie=l((function(){return Object(a["g"])("label",{for:"offerCreateKtru",class:"upp"}," ктру ",-1)})),de={class:"base-check radio"},se=l((function(){return Object(a["g"])("label",{for:"offerCreateTu",class:"upp"}," ту ",-1)})),fe={class:"base-check radio"},be=l((function(){return Object(a["g"])("label",{for:"offerCreateKtrus"},[Object(a["g"])("span",{class:"upp"},"ктру"),Object(a["i"])(" сокр. ")],-1)})),pe={class:"offer-create-actions page-buttons"},je={class:"offer-create__send"},ge=Object(a["i"])(" Отправить "),Oe={class:"offer-create__save"},ye=Object(a["i"])(" Сохранить "),me={class:"offer-create__dl"},ve=Object(a["i"])(" Скачать ");function he(e,t,r,n,c,l){var P=Object(a["C"])("base-input"),he=Object(a["C"])("base-textarea"),Ve=Object(a["C"])("base-button"),we=Object(a["C"])("base-select");return Object(a["u"])(),Object(a["f"])("div",o,[u,Object(a["g"])("div",i,[Object(a["g"])("div",d,[Object(a["g"])("div",s,[Object(a["j"])(P,{label:"Контрагент",id:"offerCreateConterparty",suggestions:c.suggestions,search:!0,onSetSuggestion:t[0]||(t[0]=function(e){return c.conterparty=e}),modelValue:c.conterparty,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.conterparty=e})},null,8,["suggestions","modelValue"])]),Object(a["g"])("div",f,[Object(a["j"])(P,{label:"ИНН",id:"offerCreateInn",disbled:!0,disabled:c.inn&&!0,readonly:c.inn&&!0,modelValue:c.inn,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.inn=e})},null,8,["disabled","readonly","modelValue"])]),Object(a["g"])("div",b,[Object(a["j"])(he,{label:"Адрес",id:"offerCreateAddress",disabled:c.address&&!0,readonly:c.address&&!0,modelValue:c.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.address=e})},null,8,["disabled","readonly","modelValue"])]),Object(a["g"])("div",p,[Object(a["j"])(P,{label:"Телефон",id:"offerCreatePhone",disabled:c.phone&&!0,readonly:c.phone&&!0,modelValue:c.phone,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.phone=e})},null,8,["disabled","readonly","modelValue"])]),Object(a["g"])("div",j,[Object(a["j"])(P,{label:"Эл. почта",id:"offerCreateEmail",disabled:c.email&&!0,readonly:c.email&&!0,modelValue:c.email,"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.email=e})},null,8,["label","disabled","readonly","modelValue"])]),Object(a["g"])("div",g,[Object(a["j"])(P,{label:"Контактное лицо",id:"offerCreateContact",disabled:c.contact&&!0,readonly:c.contact&&!0,modelValue:c.contact,"onUpdate:modelValue":t[6]||(t[6]=function(e){return c.contact=e})},null,8,["disabled","readonly","modelValue"])]),Object(a["g"])("div",O,[Object(a["j"])(P,{label:"Срок действия",short:!0,id:"offerCreateValidy",disabled:c.validy&&!0,readonly:c.validy&&!0,modelValue:c.validy,"onUpdate:modelValue":t[7]||(t[7]=function(e){return c.validy=e})},null,8,["disabled","readonly","modelValue"])]),Object(a["g"])("div",y,[Object(a["j"])(P,{label:"Конечный заказчик",id:"offerCreateEndCustomer",suggestions:c.suggestions,search:!0,onSetSuggestion:t[8]||(t[8]=function(e){return c.endCustomer=e}),modelValue:c.endCustomer,"onUpdate:modelValue":t[9]||(t[9]=function(e){return c.endCustomer=e})},null,8,["suggestions","modelValue"])]),Object(a["g"])("div",m,[Object(a["j"])(P,{label:"Регион",id:"offerCreateRegion",disabled:c.region&&!0,readonly:c.region&&!0,modelValue:c.region,"onUpdate:modelValue":t[10]||(t[10]=function(e){return c.region=e})},null,8,["disabled","readonly","modelValue"])])]),Object(a["g"])("div",v,[h,Object(a["g"])("div",V,[Object(a["g"])("div",w,[Object(a["j"])(P,{id:"offerCreateConterparty",placeholder:"Артикул или наименование",search:!0,suggestions:c.suggestions,onSetSuggestion:t[11]||(t[11]=function(e){return c.productsSearch=e}),modelValue:c.productsSearch,"onUpdate:modelValue":t[12]||(t[12]=function(e){return c.productsSearch=e})},null,8,["suggestions","modelValue"])]),Object(a["g"])("div",_,[Object(a["j"])(Ve,{type:"outlined",onClicked:l.addProduct},{default:Object(a["L"])((function(){return[x]})),_:1},8,["onClicked"])])]),Object(a["g"])("table",C,[k,Object(a["g"])("tbody",null,[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(c.products,(function(e,t){return Object(a["u"])(),Object(a["f"])("tr",{key:t},[Object(a["g"])("td",null,[Object(a["g"])("span",null,Object(a["F"])(e.article),1),Object(a["g"])("span",E,Object(a["F"])(e.article),1)]),Object(a["g"])("td",null,[Object(a["g"])("span",null,Object(a["F"])(e.name),1),Object(a["g"])("span",U,Object(a["F"])(e.name),1)]),Object(a["g"])("td",I,[Object(a["j"])(P,{type:"text",tableInput:!0,modelValue:e.price,"onUpdate:modelValue":function(t){return e.price=t}},null,8,["modelValue","onUpdate:modelValue"])]),Object(a["g"])("td",S,[Object(a["j"])(P,{type:"text",tableInput:!0,modelValue:e.quantity,"onUpdate:modelValue":function(t){return e.quantity=t}},null,8,["modelValue","onUpdate:modelValue"])]),Object(a["g"])("td",$,[Object(a["j"])(P,{type:"text",tableInput:!0,modelValue:e.discount,"onUpdate:modelValue":function(t){return e.discount=t}},null,8,["modelValue","onUpdate:modelValue"])]),Object(a["g"])("td",null,[Object(a["g"])("span",null,Object(a["F"])(l.price(e.price)*l.quantity(e.quantity))+" ,00 ₽ ",1),Object(a["g"])("span",M,Object(a["F"])(l.price(e.price)*l.quantity(e.quantity))+" ,00 ₽ ",1)]),Object(a["g"])("td",T,[Object(a["g"])("span",{class:"_remove",onClick:function(t){return l.removeProduct(e.id)}},z,8,q)])])})),128))])]),Object(a["g"])("div",F,[Object(a["g"])("div",null,[Object(a["g"])("div",L,[B,Object(a["g"])("span",null,Object(a["F"])(l.totalDiscountedPrice)+",00 ₽ ",1)]),Object(a["g"])("div",A,[R,Object(a["g"])("span",null,Object(a["F"])(l.totalPrice-l.totalDiscountedPrice)+",00 ₽ ",1)])])])]),Object(a["g"])("div",D,[N,Object(a["g"])("div",K,[Object(a["j"])(we,{options:c.companies,modelValue:c.company,"onUpdate:modelValue":t[13]||(t[13]=function(e){return c.company=e}),borderOnly:!0},null,8,["options","modelValue"])])]),Object(a["g"])("div",J,[G,Object(a["g"])("div",H,[Object(a["g"])("div",Q,[Object(a["M"])(Object(a["g"])("input",{type:"radio",id:"offerCreatePdf",value:"pdf","onUpdate:modelValue":t[14]||(t[14]=function(e){return c.type=e})},null,512),[[a["I"],c.type]]),W]),Object(a["g"])("div",X,[Object(a["M"])(Object(a["g"])("input",{type:"radio",id:"offerCreateExcel",value:"excel","onUpdate:modelValue":t[15]||(t[15]=function(e){return c.type=e})},null,512),[[a["I"],c.type]]),Y])])]),Object(a["g"])("div",Z,[ee,Object(a["g"])("div",te,[Object(a["g"])("div",re,[Object(a["M"])(Object(a["g"])("input",{type:"radio",id:"offerReadyTz",value:"tz","onUpdate:modelValue":t[16]||(t[16]=function(e){return c.ready=e})},null,512),[[a["I"],c.ready]]),ae]),Object(a["g"])("div",ne,[Object(a["M"])(Object(a["g"])("input",{type:"radio",id:"offerReadyRu",value:"ru","onUpdate:modelValue":t[17]||(t[17]=function(e){return c.ready=e})},null,512),[[a["I"],c.ready]]),ce])]),"tz"==c.ready?(Object(a["u"])(),Object(a["f"])("div",le,[oe,Object(a["g"])("div",null,[Object(a["g"])("div",ue,[Object(a["M"])(Object(a["g"])("input",{type:"radio",id:"offerCreateKtru",value:"ktru","onUpdate:modelValue":t[18]||(t[18]=function(e){return c.tzType=e})},null,512),[[a["I"],c.tzType]]),ie]),Object(a["g"])("div",de,[Object(a["M"])(Object(a["g"])("input",{type:"radio",id:"offerCreateTu",value:"tu","onUpdate:modelValue":t[19]||(t[19]=function(e){return c.tzType=e})},null,512),[[a["I"],c.tzType]]),se]),Object(a["g"])("div",fe,[Object(a["M"])(Object(a["g"])("input",{type:"radio",id:"offerCreateKtrus",value:"ktrus","onUpdate:modelValue":t[20]||(t[20]=function(e){return c.tzType=e})},null,512),[[a["I"],c.tzType]]),be])])])):Object(a["e"])("",!0)])]),Object(a["g"])("div",pe,[Object(a["g"])("div",je,[Object(a["j"])(Ve,{type:"filled"},{default:Object(a["L"])((function(){return[ge]})),_:1})]),Object(a["g"])("div",Oe,[Object(a["j"])(Ve,{type:"outlined"},{default:Object(a["L"])((function(){return[ye]})),_:1})]),Object(a["g"])("div",me,[Object(a["j"])(Ve,{type:"outlined"},{default:Object(a["L"])((function(){return[ve]})),_:1})])])])}r("fb6a"),r("d3b7"),r("159b"),r("c740"),r("a434");var Ve=r("2141"),we=["for"],_e=["id","name","required","disabled","readonly","placeholder","value","minLength","maxlength"],xe={key:1,class:"based-textarea__msg"};function Ce(e,t,r,n,c,l){return Object(a["u"])(),Object(a["f"])("div",{class:Object(a["p"])(["based-textarea",{"based-textarea-error":r.message,"based-textarea-row":r.label}])},[r.label?(Object(a["u"])(),Object(a["f"])("label",{key:0,for:r.id},Object(a["F"])(r.label),9,we)):Object(a["e"])("",!0),Object(a["g"])("textarea",{ref:"textarea",class:Object(a["p"])({error:r.error}),id:r.id,name:r.id,required:r.required,disabled:r.disabled,readonly:r.readonly,placeholder:r.placeholder,value:r.modelValue,minLength:r.minLength?r.minLength:"",maxlength:r.maxLength?r.maxLength:"",onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value),e.$emit("input")}),onFocus:t[1]||(t[1]=function(t){return e.$emit("focus")}),onBlur:t[2]||(t[2]=function(t){return e.$emit("blur")}),onClick:t[3]||(t[3]=function(t){return e.$emit("click")}),onKeyup:[t[4]||(t[4]=Object(a["N"])((function(t){return e.$emit("keyupEnter")}),["enter"])),t[5]||(t[5]=function(t){return e.$emit("keyup")})]},null,42,_e),r.error?(Object(a["u"])(),Object(a["f"])("span",xe,Object(a["F"])(r.message),1)):Object(a["e"])("",!0)],2)}r("a9e3");var ke={name:"BaseTextarea",props:{id:{type:String},label:{type:String,default:""},error:{type:Boolean,default:!1},required:{type:Boolean},message:{type:String,default:""},placeholder:{type:String,default:""},modelValue:{type:[String,Number],required:!0},minLength:{type:Number},maxLength:{type:Number},disabled:{type:Boolean},readonly:{type:Boolean}},methods:{},emits:["update:modelValue","clear","input","focus","blur","click","keyupEnter","keyup"]},Ee=(r("b25b"),r("6b0d")),Ue=r.n(Ee);const Ie=Ue()(ke,[["render",Ce],["__scopeId","data-v-3541d5b4"]]);var Se=Ie,$e=r("30a8"),Me=r("be12"),Te=(r("ac1f"),r("5319"),function(e){return+e.replace(/\D/g,"")}),qe={components:{BaseInput:Ve["a"],BaseTextarea:Se,BaseButton:$e["a"],BaseSelect:Me["a"]},computed:{price:function(){return function(e){return Te(e.slice(0,-4))}},quantity:function(){return function(e){return Te(e)}},totalDiscountedPrice:function(){var e=0;return console.log(),this.products.forEach((function(t){return e+=Te(t.price.slice(0,-4))*Te(t.quantity)*30/100})),e},totalPrice:function(){var e=0;return this.products.forEach((function(t){return e+=Te(t.price.slice(0,-4))*Te(t.quantity)})),e}},data:function(){return{conterparty:"",inn:"",address:"",phone:"",email:"",contact:"",validy:"",endCustomer:"",region:"",type:"",tzType:"",ready:"",productsSearch:"",companies:[{key:"asdad",value:"Aasdads"},{key:"asdasffefsfd",value:"Fefef"},{key:"dwede",value:"Gewfwef"}],products:[{id:1,article:"EP.01",name:"Помпа ирригационная эндоскопическая ENDOMATE PUMP",price:"268,900,00 ₽",quantity:"1 шт",discount:"30%"},{id:2,article:"EM.CO2.01",name:"Эндоскопический инсуффлятор углекислого газа ENDOMATE C02",price:"542,750,00 ₽",quantity:"1 шт",discount:"30%"}],company:"",suggestions:["8/21-ES","7/21-ES","6/21-ES","5/21-ES"]}},methods:{addProduct:function(){console.log("addProduct")},removeProduct:function(e){var t=this.products.findIndex((function(t){return t.id==e}));this.products.splice(t,1)}}};r("654b");const Pe=Ue()(qe,[["render",he],["__scopeId","data-v-58442a52"]]);t["default"]=Pe},"847a":function(e,t,r){},"8aa5":function(e,t,r){"use strict";var a=r("6547").charAt;e.exports=function(e,t,r){return t+(r?a(e,t).length:1)}},a434:function(e,t,r){"use strict";var a=r("23e7"),n=r("da84"),c=r("23cb"),l=r("5926"),o=r("07fa"),u=r("7b0b"),i=r("65f0"),d=r("8418"),s=r("1dde"),f=s("splice"),b=n.TypeError,p=Math.max,j=Math.min,g=9007199254740991,O="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var r,a,n,s,f,y,m=u(this),v=o(m),h=c(e,v),V=arguments.length;if(0===V?r=a=0:1===V?(r=0,a=v-h):(r=V-2,a=j(p(l(t),0),v-h)),v+r-a>g)throw b(O);for(n=i(m,a),s=0;s<a;s++)f=h+s,f in m&&d(n,s,m[f]);if(n.length=a,r<a){for(s=h;s<v-a;s++)f=s+a,y=s+r,f in m?m[y]=m[f]:delete m[y];for(s=v;s>v-a+r;s--)delete m[s-1]}else if(r>a)for(s=v-a;s>h;s--)f=s+a-1,y=s+r-1,f in m?m[y]=m[f]:delete m[y];for(s=0;s<r;s++)m[s+h]=arguments[s+2];return m.length=v-a+r,n}})},a640:function(e,t,r){"use strict";var a=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&a((function(){r.call(null,t||function(){throw 1},1)}))}},b25b:function(e,t,r){"use strict";r("bac4")},bac4:function(e,t,r){},c740:function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").findIndex,c=r("44d2"),l="findIndex",o=!0;l in[]&&Array(1)[l]((function(){o=!1})),a({target:"Array",proto:!0,forced:o},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),c(l)}}]);
//# sourceMappingURL=offerCreate.cf54e340.js.map