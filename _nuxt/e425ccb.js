(window.webpackJsonp=window.webpackJsonp||[]).push([[35,27,30,36,37,38],{532:function(t,e,n){"use strict";n.r(e);n(30),n(98),n(8);var o=n(227),l=n.n(o),r=n(7),c={name:"SelectInput",directives:{ClickOutside:l.a},components:{CustomIcon:r.default},model:{prop:"value",event:"select"},props:{value:{type:[Number,String],required:!1,default:null},placeholder:{type:[String,Number],default:"Выберите"},options:{type:Array,required:!0},label:{type:String,default:null},defaultStyle:{type:Boolean,default:!0},withoutBorder:Boolean,underline:Boolean},data:function(){return{open:!1,top:!1}},computed:{model:{get:function(){return this.value},set:function(t){this.$emit("select",t)}},selectedOption:function(){var t=this;return void 0!==this.model?this.options.find((function(option){return(null==option?void 0:option.id)===t.model})):null},optionsStyle:function(){return this.top?{bottom:"47px"}:{top:"47px"}}},mounted:function(){var t=this;window.addEventListener("scroll",(function(){t.calculateOptionsPosition()}))},methods:{select:function(option){var t=this,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&this.model===option.id?this.model=null:this.model=option.id,this.$nextTick((function(){t.closeIfOpen()}))},toggleOpen:function(){var t=this;this.open=!this.open,this.$nextTick((function(){t.calculateOptionsPosition()}))},calculateOptionsPosition:function(){var t,e,n,o;if(this.open){var l=null===(t=this.$refs)||void 0===t||null===(e=t.options)||void 0===e||null===(n=e.getBoundingClientRect)||void 0===n?void 0:n.call(e),r=null==l?void 0:l.bottom,c=window.innerHeight;null!==(o=this.$device)&&void 0!==o&&o.isMobile&&(c-=55),this.top&&(r+=null==l?void 0:l.height,r+=47),this.top=r>=c}},closeIfOpen:function(){this.open&&(this.open=!1)}}},d=c,f=n(0),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"select-input",class:{"select-input--default-style":t.defaultStyle,"select-input--without-border":t.withoutBorder,"select-input--underline":t.underline}},[t.label?[n("span",{staticClass:"ml-1 f-medium text-xs text-black-40"},[t._v(t._s(t.label))])]:t._e(),t._v(" "),n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeIfOpen,expression:"closeIfOpen"}],staticClass:"select-input--placeholder text-black-100",on:{click:function(e){return e.target!==e.currentTarget?null:t.toggleOpen.apply(null,arguments)}}},[t._v("\n    "+t._s(t.selectedOption?t.selectedOption.value:t.placeholder)+"\n    "),n("custom-icon",{staticClass:"transition-all ease-in-out duration-300",class:{"rotate-180":t.open},attrs:{"icon-id":"#i-arrow-down",classes:t.withoutBorder?"stroke-black-60":"stroke-black-100"}}),t._v(" "),n("div",{ref:"options",staticClass:"select-input__options",class:{"select-input__options--closed":!t.open},style:t.optionsStyle},[t._l(t.options,(function(option,e){return[n("div",{key:e,staticClass:"select-input__options--item",class:{"select-input__options--item--selected":option.id===t.model},on:{click:function(e){return t.select(option)}}},[t._v("\n          "+t._s(option.value)+"\n        ")])]}))],2)],1)],2)}),[],!1,null,null,null);e.default=component.exports},554:function(t,e,n){"use strict";n.r(e);n(13),n(10),n(12),n(8),n(15),n(11),n(16);var o=n(4),l=(n(30),n(6));function r(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var c={name:"CreatePostVoteOptionItem",components:{CustomIcon:n(7).default},props:{index:{type:Number,required:!0},option:{type:Object,required:!0}},computed:{optionValue:{get:function(){var t;return null===(t=this.option)||void 0===t?void 0:t.value},set:function(t){this.editVoteOption([this.index,t])}}},methods:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?r(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):r(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(l.d)("create-article",["editVoteOption","removeVoteOption"]))},d=c,f=n(0),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex items-start mb-[8px]"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.optionValue,expression:"optionValue"}],staticClass:"flex-grow h-7 border border-white-60 rounded-[10px] px-2 leading-[33px]",attrs:{type:"text"},domProps:{value:t.optionValue},on:{input:function(e){e.target.composing||(t.optionValue=e.target.value)}}}),t._v(" "),n("button",{staticClass:"ml-2",attrs:{tabindex:"-1"},on:{click:function(e){return t.removeVoteOption(t.index)}}},[n("custom-icon",{attrs:{"icon-id":"#i-main-close",classes:"fill-black-100"}})],1)])}),[],!1,null,null,null);e.default=component.exports},707:function(t,e,n){"use strict";n.r(e);n(30);var o={name:"RadioList",model:{prop:"value",event:"change"},props:{items:{type:Array,default:null},value:{type:Number,required:!0}},computed:{currentItem:{get:function(){return this.value},set:function(t){this.selectValue(t)}}},methods:{selectValue:function(t){this.$emit("change",t)}}},l=n(0),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[t._l(t.items,(function(e){return[n("li",{key:e.title},[t._t("button",null,{select:t.selectValue,item:e})],2)]}))],2)}),[],!1,null,null,null);e.default=component.exports},725:function(t,e,n){"use strict";n.r(e);n(13),n(10),n(15),n(11),n(16);var o=n(4),l=(n(12),n(8),n(6));function r(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?r(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):r(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={name:"CreatePostVoteOptions",components:{CreatePostVoteOptionItem:n(554).default},data:function(){return{options:[]}},computed:c({},Object(l.c)("create-article",["voteOptions"])),methods:c(c({},Object(l.d)("create-article",["addVoteOption","editVoteOption","removeVoteOption"])),{},{addOption:function(){var t=this.options.length;this.options.push({id:t,value:""})},removeOption:function(t){this.options=this.options.filter((function(option){return option.id!==t}))}})},f=n(0),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pt-[17px] border-t border-white-20"},[n("p",{staticClass:"pl-2 f-medium text-md text-black-60"},[t._v("Варианты ответа")]),t._v(" "),n("div",{staticClass:"w-full mt-[8px] pb-4 f-medium text-md"},[t._l(t.voteOptions,(function(option,t){return[n("create-post-vote-option-item",{key:t,attrs:{index:t,option:option}})]})),t._v(" "),n("button",{staticClass:"w-[calc(100%-40px)] h-7 px-2 border border-white-60 rounded-[10px] leading-[33px] text-left text-black-20",on:{click:function(e){return t.addVoteOption()}}},[t._v("\n      добавить вариант ответа\n    ")])],2)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CreatePostVoteOptionItem:n(554).default})},726:function(t,e,n){"use strict";n.r(e);n(13),n(10),n(12),n(8),n(15),n(11),n(16);var o=n(4),l=n(6),r=n(532),c=n(238),d=n(172),f=n(707),m=n(171),v=n(148);function O(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var y=function(t){return{get:function(){var e;return null===(e=this.voteSettings)||void 0===e?void 0:e[t]},set:function(e){this.setVoteSetting([t,e])}}},x={name:"CreatePostVoteSettings",components:{RadioList:f.default,CreatePostSettingsTitle:d.default,CreatePostOption:m.default,SelectInput:r.default,DateAndTimeInput:c.default},mixins:[v.a],data:function(){return{typeVotes:[{id:1,title:"анонимный опрос"},{id:2,title:"выбор нескольких вариантов"},{id:3,title:"запретить отмену голоса"}],timeQuotaOptions:[{id:1,value:"1 час"},{id:6,value:"6 часов"},{id:12,value:"12 часов"},{id:24,value:"1 день"}]}},computed:h(h({},Object(l.e)("create-article",["voteSettings"])),{},{currentType:{get:function(){var t,e,n;return null!==(t=this.voteSettings)&&void 0!==t&&t.anonymous?1:null!==(e=this.voteSettings)&&void 0!==e&&e.multipleSelect?2:null!==(n=this.voteSettings)&&void 0!==n&&n.rejectCancellation?3:null},set:function(t){this.setVoteSetting(["anonymous",1===t]),this.setVoteSetting(["multipleSelect",2===t]),this.setVoteSetting(["rejectCancellation",3===t])}},publicateAt:{get:function(){var t,e;return{date:null===(t=this.voteSettings)||void 0===t?void 0:t.publicationDate,time:null===(e=this.voteSettings)||void 0===e?void 0:e.publicationTime}},set:function(t){this.setVoteSetting(["publicationDate",null==t?void 0:t.date]),this.setVoteSetting(["publicationTime",null==t?void 0:t.time])}},timeQuota:y("timeQuotaEnabled"),selectedTimeQuota:y("selectedTimeQuota"),publicationTime:y("publicationTimeEnabled")}),methods:h({},Object(l.d)("create-article",["setVoteSetting"]))},j=n(0),component=Object(j.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h-full px-2 pt-1"},[n("create-post-settings-title",{attrs:{title:"Настройки опроса"}}),t._v(" "),n("radio-list",{attrs:{items:t.typeVotes},scopedSlots:t._u([{key:"button",fn:function(e){var select=e.select,o=e.item;return[n("button",{staticClass:"h-4 flex items-center mb-2 first:mt-2 last:mb-3",on:{click:function(t){return select(o.id)}}},[n("span",{staticClass:"block w-4 h-4 p-[3px] mr-2 border-[2px] rounded-full transition-colors",class:t.currentType===o.id?"radio-active":"border-black-20"},[n("span",{staticClass:"block w-full h-full transition-colors rounded-full"})]),t._v(" "),n("span",{staticClass:"f-regular text-xs text-black-80"},[t._v(t._s(o.title))])])]}}]),model:{value:t.currentType,callback:function(e){t.currentType=e},expression:"currentType"}}),t._v(" "),n("hr",{staticClass:"border-t border-white-20 mt-2 mb-[10.5px]"}),t._v(" "),n("create-post-settings-title",{attrs:{title:"Ограничение на время опроса"}}),t._v(" "),n("create-post-option",{attrs:{"option-name":"ограничить время опроса"},model:{value:t.timeQuota,callback:function(e){t.timeQuota=e},expression:"timeQuota"}},[n("div",{staticClass:"flex px-[21px] mt-2"},[n("div",[n("span",{staticClass:"block mb-2 f-medium text-xs text-black-20"},[t._v("\n          время опроса\n        ")]),t._v(" "),n("select-input",{staticClass:"!w-[328px]",attrs:{options:t.timeQuotaOptions},model:{value:t.selectedTimeQuota,callback:function(e){t.selectedTimeQuota=e},expression:"selectedTimeQuota"}})],1)])]),t._v(" "),n("hr",{staticClass:"border-t border-white-20 mt-2 mb-[10.5px]"}),t._v(" "),n("create-post-settings-title",{attrs:{title:"Время опроса"}}),t._v(" "),n("create-post-option",{attrs:{"option-name":"запланировать опрос"},model:{value:t.publicationTimeEnabledModel,callback:function(e){t.publicationTimeEnabledModel=e},expression:"publicationTimeEnabledModel"}},[n("date-and-time-input",{attrs:{"date-label":"дата публикации опроса","time-label":"время публикации опроса","disabled-date":t.disabledPublicationDate,"disabled-time":t.disabledPublicationTime},model:{value:t.publicationDateAndTimeModel,callback:function(e){t.publicationDateAndTimeModel=e},expression:"publicationDateAndTimeModel"}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CreatePostSettingsTitle:n(172).default,CreatePostOption:n(171).default})},791:function(t,e,n){"use strict";n.r(e);n(13),n(10),n(12),n(8),n(15),n(11),n(16);var o=n(4),l=n(6),r=n(174),c=n(725);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"CreatePostVote",components:{CreatePostVoteSettings:n(726).default,CreatePostVoteOptions:c.default,CreatePostContent:r.default},data:function(){return{stepCount:3}},computed:f(f({},Object(l.e)("create-article",["currentStep","content"])),{},{articleContent:{get:function(){return this.content},set:function(t){this.setContent(t)}}}),methods:f({},Object(l.d)("create-article",["setContent"]))},v=n(0),component=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex h-full flex-col"},[n("div",{staticClass:"flex-grow"},[n("div",{staticClass:"h-full"},[2===t.currentStep?[n("create-post-content",{attrs:{"textarea-min-height":119},model:{value:t.articleContent,callback:function(e){t.articleContent=e},expression:"articleContent"}}),t._v(" "),n("create-post-vote-options")]:t._e(),t._v(" "),3===t.currentStep?n("create-post-vote-settings"):t._e()],2)]),t._v(" "),t._t("next-step-buttons")],2)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CreatePostContent:n(174).default,CreatePostVoteOptions:n(725).default,CreatePostVoteSettings:n(726).default})}}]);