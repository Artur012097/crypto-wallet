(window.webpackJsonp=window.webpackJsonp||[]).push([[4,85,86],{523:function(e,t,n){"use strict";n.r(t);n(13),n(10),n(12),n(8),n(15),n(11),n(16);var r=n(4),o=n(6),c=n(7),l=n(36),f=n(521);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={name:"FeedRecommendationItem",components:{CustomIcon:c.default,AvatarImage:l.default,SubscribesButton:f.default},props:{item:{type:Object,required:!0}},computed:{profileUrl:function(){return this.$routeToProfile(this.item)},creatorName:function(){return this.$userDisplayingName(this.item)},countSubs:function(){var e;return(null===(e=this.item)||void 0===e?void 0:e.subscribers_total)||0},avatarUrl:function(){return this.$userAvatar(this.item)}},methods:m(m({},Object(o.b)("feed",["recommendsAction"])),{},{handleSubscribe:function(){this.recommendsAction()}})},O=n(0),component=Object(O.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nuxt-link",{staticClass:"recommendation-card feed-recommendation-item",attrs:{to:e.profileUrl}},[n("avatar-image",{staticClass:"flex items-center justify-center w-full",attrs:{src:e.avatarUrl,"img-class":"w-[80px] h-[80px] xs:w-[60px] xs:h-[60px]"}}),e._v(" "),n("div",{staticClass:"flex mx-auto mb-[1px] justify-center items-center mt-2 xs:mt-3"},[n("span",{staticClass:"text-black-100 f-bold leading-[18px] text-ellipsis max-w-[125px] xs:max-w-[105px] overflow-hidden whitespace-nowrap feed-recommendation-item__creator-name"},[e._v("\n      "+e._s(e.creatorName)+"\n    ")]),e._v(" "),n("custom-icon",{attrs:{"icon-id":"#i-arrow-right-sm",classes:"stroke-black-80",width:20,height:20}})],1),e._v(" "),n("p",{staticClass:"text-center text-black-60 f-regular leading-5 mb-4 xs:mb-1 feed-recommendation-item__subscribers-count"},[e._v("\n    "+e._s(e.countSubs)+"\n    "+e._s(e.$quantDecline(e.countSubs,["подписчик","подписчика","подписчиков"]))+"\n  ")]),e._v(" "),n("subscribes-button",{attrs:{"profile-id":e.item.id},on:{subscribe:e.handleSubscribe}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{SubscribesButton:n(521).default})},524:function(e,t,n){"use strict";n.r(t);n(13),n(10),n(12),n(8),n(15),n(11),n(16);var r=n(4),o=n(6),c=n(7),l=n(523),f=n(525);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={name:"FeedRecommendation",components:{CustomIcon:c.default,FeedRecommendationItem:l.default},mixins:[f.a],computed:m(m({},Object(o.e)("feed",["recommends"])),{},{items:function(){return this.recommends}}),methods:{scrollBy:function(e){var t,n;null===(t=this.$refs.itemsList)||void 0===t||null===(n=t.scrollBy)||void 0===n||n.call(t,{left:e,behavior:"smooth"})}}},O=n(0),component=Object(O.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"itemsContainer",staticClass:"relative w-full"},[e.showScrollButtons?[n("div",{staticClass:"recommendation-arrow-button__container recommendation-arrow-button__container--left"},[n("button",{staticClass:"recommendation-arrow-button recommendation-arrow-button--left xs:hidden",on:{click:function(t){return e.scrollBy(-190)}}},[n("custom-icon",{attrs:{"icon-id":"#i-arrow-left",classes:"stroke-white-100"}})],1)]),e._v(" "),n("div",{staticClass:"recommendation-arrow-button__container"},[n("button",{staticClass:"recommendation-arrow-button xs:hidden",on:{click:function(t){return e.scrollBy(190)}}},[n("custom-icon",{attrs:{"icon-id":"#i-arrow-right",classes:"stroke-white-100"}})],1)])]:e._e(),e._v(" "),n("div",{ref:"itemsList",staticClass:"xs:mb-0 xs:py-3 overflow-x-auto flex hide-scrollbar relative mb-3"},e._l(e.items,(function(e,t){return n("feed-recommendation-item",{key:t,attrs:{item:e}})})),1)],2)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{FeedRecommendationItem:n(523).default})},525:function(e,t,n){"use strict";n(8),n(11);t.a={data:function(){return{showScrollButtons:!1}},computed:{containerRef:function(){return this.$refs.itemsContainer},itemsRef:function(){return this.$refs.itemsList}},mounted:function(){var e=this;this.prepareScrollbar(),function(element,e){if(element){var t={root:document.documentElement};new IntersectionObserver((function(t){t.forEach((function(t){e(t.intersectionRatio>0)}))}),t).observe(element)}}(this.containerRef,(function(){e.prepareScrollbar()}))},methods:{prepareScrollbar:function(){var e,t;this.showScrollButtons=(null===(e=this.itemsRef)||void 0===e?void 0:e.scrollWidth)>(null===(t=this.containerRef)||void 0===t?void 0:t.clientWidth)}}}},529:function(e,t,n){"use strict";n(13),n(10),n(12),n(8),n(15),n(11),n(16);var r=n(4),o=n(6);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a={computed:l(l({},Object(o.e)("feed",["visibleEndOfFeedAlert","hasNext"])),{},{endOfFeedAlert:{get:function(){return this.visibleEndOfFeedAlert},set:function(e){this.setVisibleEndOfFeedAlert(e)}}}),methods:l({},Object(o.d)("feed",["setVisibleEndOfFeedAlert"]))}},530:function(e,t,n){"use strict";n.r(t);var r={name:"ProfileRecommends",components:{FeedRecommendation:n(524).default}},o=n(0),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",{staticClass:"f-medium text-lg text-black pt-[19px] pb-4 xs:pb-1 pl-6 xs:pt-4 xs:pl-3"},[e._v("\n    Рекомендации\n  ")]),e._v(" "),n("feed-recommendation")],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{FeedRecommendation:n(524).default})},542:function(e,t,n){"use strict";n(30);t.a={model:{event:"change-tab",prop:"tab"},props:{tab:{type:Number,default:0},tabOptions:{type:Array,required:!0}},computed:{model:{get:function(){return this.tab},set:function(e){this.$emit("change-tab",e)}}}}},546:function(e,t,n){"use strict";n.r(t);n(8),n(34),n(37),n(30);var r={name:"ProfileContent",components:{ProfileConentFeed:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(125)]).then(n.bind(null,750))},ProfileRecommends:function(){return Promise.resolve().then(n.bind(null,530))},ProfileConentAbout:function(){return n.e(10).then(n.bind(null,792))}},props:{tab:{type:Number,default:0}}},o=n(0),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"profile-content"},[0===e.tab?n("profile-conent-feed"):e._e(),e._v(" "),1===e.tab?n("profile-recommends"):e._e(),e._v(" "),2===e.tab?n("profile-conent-about"):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ProfileRecommends:n(530).default})},547:function(e,t,n){"use strict";n.r(t);var r=n(7),o=n(228),c=n(542),l={name:"ProfileTabs",components:{TabOptions:o.default,CustomIcon:r.default},mixins:[c.a]},f=n(0),component=Object(f.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"profile-tabs"},[n("tab-options",{attrs:{classes:"pr-[90px] justify-start xs:h-full xs:overflow-x-auto xs:pr-[50px] xs:px-2","button-classes":"!w-auto px-2 xs:items-center xs:pb-0 xs:px-0 mr-2",options:e.tabOptions},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),n("button",{staticClass:"profile-search-icon"},[n("custom-icon",{attrs:{"icon-id":"#i-main-search",classes:"stroke-black-60 xs:stroke-purple-100"}})],1)],1)}),[],!1,null,null,null);t.default=component.exports},556:function(e,t,n){"use strict";n(13),n(10),n(12),n(8),n(15),n(11),n(16);var r=n(2),o=n(4),c=(n(22),n(6)),l=n(529);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m=function(e){return{get:function(){var t;return null===(t=this.pagination)||void 0===t?void 0:t[e]},set:function(t){this.setPaginationParam([e,t])}}};t.a={mixins:[l.a],computed:d(d({},Object(c.e)("profile",{pagination:"pagination",loadedProfile:"profile"})),{},{next:m("next"),page:m("page"),profileId:function(){var e,t,n,r,o,c;return null!==(e=this.$route.params)&&void 0!==e&&e.profile_id?null===(o=this.$route.params)||void 0===o?void 0:o.profile_id:null!==(t=this.$route.params)&&void 0!==t&&t.profile_identifier?null===(c=this.loadedProfile)||void 0===c?void 0:c.id:null===(n=this.$auth)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.id}}),methods:d(d(d(d(d({},Object(c.b)("feed",["profilePostAction"])),Object(c.b)("profile",["getProfile"])),Object(c.d)("feed",["setProfileArticles"])),Object(c.d)("profile",["setPaginationParam"])),{},{fetchData:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getProfile((null===(n=e.$route.params)||void 0===n?void 0:n.profile_identifier)||e.profileId||(null===(r=e.$auth)||void 0===r||null===(o=r.user)||void 0===o?void 0:o.id));case 2:if(c=t.sent,Boolean(c)){t.next=7;break}return null===(l=e.$router)||void 0===l||l.push({name:"index"}),t.abrupt("return");case 7:return t.next=9,e.profilePostAction({profileId:null==c?void 0:c.id});case 9:t.sent&&(e.next=!0,++e.page);case 11:case"end":return t.stop()}}),t)})))()},getNextArticles:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.next){n.next=7;break}return n.next=3,t.profilePostAction({profileId:t.profileId,page:t.page});case 3:n.sent?(++t.page,e.loaded()):(t.next=!1,e.complete()),n.next=8;break;case 7:e.complete();case 8:case"end":return n.stop()}}),n)})))()}})}},559:function(e,t,n){"use strict";n.r(t);var r=n(546),o=n(698),c=n(547),l=n(542),f={name:"ProfileView",components:{ProfilePanel:o.default,ProfileContent:r.default,ProfileTabs:c.default},mixins:[l.a]},d=n(0),component=Object(d.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"profile-wrapper"},[n("profile-tabs",{attrs:{"tab-options":e.tabOptions},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),0===e.model||2===e.model?n("profile-panel"):e._e(),e._v(" "),n("profile-content",{attrs:{tab:e.model}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ProfileTabs:n(547).default,ProfilePanel:n(698).default,ProfileContent:n(546).default})},708:function(e,t,n){"use strict";n(13),n(10),n(12),n(15),n(16);var r=n(2),o=n(4),c=(n(745),n(8),n(11),n(22),n(6)),l=n(556),f=n(559);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a={mixins:[l.a],layout:"profile",meta:{preloader:!0},components:{ProfileView:f.default},data:function(){return{fixed:!1,tab:0,tabOptions:[{id:0,name:"Публикации"},{id:1,name:"Рекомендации"},{id:2,name:"О канале"}]}},computed:m({},Object(c.e)("feed",["viewedPostsIds"])),fetch:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchData();case 2:return t.next=4,e.recommendsAction();case 4:e.$finishPreloader();case 5:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;this.fixed=window.scrollY>55;var t=this.sendViewedPostsHandler();window.onbeforeunload=function(){window.scrollTo(0,0)},window.addEventListener("scroll",(function(){e.fixed=window.scrollY>200,t()}))},methods:m(m(m({},Object(c.d)("profile",["clearData"])),Object(c.b)("feed",["viewedAction","recommendsAction"])),{},{sendViewedPostsHandler:function(){var e=this;return this.$debounce((function(){e.viewedPostsIds.forEach((function(t){return e.viewedAction(t)}))}),2e3)}}),beforeDestroy:function(){var e=this.sendViewedPostsHandler();document.removeEventListener("scroll",e),this.setProfileArticles(null),this.clearData()}}},745:function(e,t,n){"use strict";var r=n(14),o=n(746);r({target:"String",proto:!0,forced:n(747)("fixed")},{fixed:function(){return o(this,"tt","","")}})},746:function(e,t,n){var r=n(9),o=n(42),c=n(27),l=/"/g,f=r("".replace);e.exports=function(e,t,n,r){var d=c(o(e)),m="<"+t;return""!==n&&(m+=" "+n+'="'+f(c(r),l,"&quot;")+'"'),m+">"+d+"</"+t+">"}},747:function(e,t,n){var r=n(17);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}}}]);