(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["companyRequisites"],{"0fb0":function(e,t,i){"use strict";i("49d8")},"11a9":function(e,t,i){},"26ad":function(e,t,i){"use strict";i.r(t);i("d3b7");var s=i("7a23"),l=i("c8de"),n=i.n(l),c=function(e){return Object(s["x"])("data-v-4d7a662b"),e=e(),Object(s["v"])(),e},o={class:"requisites"},a=c((function(){return Object(s["g"])("h1",{class:"requisites__title page__title"},"Реквизиты компании",-1)})),u={class:"requisites-content page-wrapper"},r={class:"requisites-fields"},b={class:"requisites-fields-row fields-row"},d={class:"requisites-fields-row fields-row _inn"},j={class:"requisites-fields-row fields-row"},O={class:"requisites-fields-row fields-row"},p={class:"requisites-fields-row fields-row"},f={class:"requisites-fields-row fields-row _index"},g={class:"requisites-fields-row fields-row"},m={class:"requisites-fields-row fields-row _email"},q={class:"requisites-fields-row fields-row"},_={class:"requisites-fields-row fields-row _position"},v={class:"requisites-file _logo"},h=c((function(){return Object(s["g"])("h5",{class:"requisites-file__title"},"Логотип",-1)})),y={for:"requisitesLogo"},w={key:1,class:"requisites-file-loaded"},V=c((function(){return Object(s["g"])("img",{src:n.a,alt:"Remove"},null,-1)})),C=[V],G=["src"],k={class:"requisites-file"},M=c((function(){return Object(s["g"])("h5",{class:"requisites-file__title"},"Оттиск печати",-1)})),P={for:"requisitesPrint"},U={key:1,class:"requisites-file-loaded"},$=c((function(){return Object(s["g"])("img",{src:n.a,alt:"Remove"},null,-1)})),S=[$],x=["src"],I={class:"requisites-buttons page-buttons _save"},E={class:"requisites__send _save__button"},R=Object(s["i"])(" Сохранить "),D={class:"requisites-search page-wrapper"},L={class:"requisites-search-field"},A={class:"page-wrapper"};function B(e,t,i,l,n,c){var V=Object(s["C"])("base-input"),$=Object(s["C"])("base-button"),B=Object(s["C"])("company-requisites-table"),N=Object(s["C"])("base-modal");return Object(s["u"])(),Object(s["f"])(s["a"],null,[Object(s["g"])("section",o,[a,Object(s["g"])("div",u,[Object(s["g"])("div",r,[Object(s["g"])("div",b,[Object(s["j"])(V,{id:"requisitesCompany",label:"Компания",modelValue:n.company,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.company=e})},null,8,["modelValue"])]),Object(s["g"])("div",d,[Object(s["j"])(V,{id:"requisitesInn",label:"ИНН",modelValue:n.inn,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.inn=e})},null,8,["modelValue"])]),Object(s["g"])("div",j,[Object(s["j"])(V,{id:"requisitesAddress",label:"Адрес",modelValue:n.address,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.address=e})},null,8,["modelValue"])]),Object(s["g"])("div",O,[Object(s["j"])(V,{id:"requisitesCity",label:"Город",modelValue:n.city,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.city=e})},null,8,["modelValue"])]),Object(s["g"])("div",p,[Object(s["j"])(V,{id:"requisitesCountry",label:"Страна",modelValue:n.country,"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.country=e})},null,8,["modelValue"])]),Object(s["g"])("div",f,[Object(s["j"])(V,{id:"requisitesIndex",label:"Индекс",short:!0,modelValue:n.index,"onUpdate:modelValue":t[5]||(t[5]=function(e){return n.index=e})},null,8,["modelValue"])]),Object(s["g"])("div",g,[Object(s["j"])(V,{id:"requisitesPhone",label:"Телефон",modelValue:n.phone,"onUpdate:modelValue":t[6]||(t[6]=function(e){return n.phone=e})},null,8,["modelValue"])]),Object(s["g"])("div",m,[Object(s["j"])(V,{id:"requisitesEmail",label:"Электронная почта",modelValue:n.endCustomer,"onUpdate:modelValue":t[7]||(t[7]=function(e){return n.endCustomer=e})},null,8,["modelValue"])]),Object(s["g"])("div",q,[Object(s["j"])(V,{id:"requisitesBio",label:"ФИО",modelValue:n.bio,"onUpdate:modelValue":t[8]||(t[8]=function(e){return n.bio=e})},null,8,["modelValue"])]),Object(s["g"])("div",_,[Object(s["j"])(V,{id:"requisitesPosition",label:"Должность",modelValue:n.position,"onUpdate:modelValue":t[9]||(t[9]=function(e){return n.position=e})},null,8,["modelValue"])]),Object(s["g"])("div",v,[h,n.logo?(Object(s["u"])(),Object(s["f"])("div",w,[Object(s["g"])("div",{class:"requisites-file-loaded__close",onClick:t[13]||(t[13]=function(e){return n.logo=null})},C),Object(s["g"])("img",{src:n.logo,alt:"Logo"},null,8,G)])):(Object(s["u"])(),Object(s["f"])("div",{key:0,class:"requisites-file-field",onDragover:t[11]||(t[11]=Object(s["P"])((function(){}),["prevent"])),onDrop:t[12]||(t[12]=function(e){return c.drop("logo","requisitesLogo")})},[Object(s["g"])("label",y,[Object(s["i"])(Object(s["G"])(e.$isMobile?"":"Перетащите или ")+" ",1),Object(s["g"])("span",null,Object(s["G"])(e.$isMobile?"Выберите файл":"выберите"),1),Object(s["i"])(" "+Object(s["G"])(e.$isMobile?"":"файл")+" ",1),Object(s["g"])("input",{type:"file",id:"requisitesLogo",ref:"requisitesLogo",multiple:"",onChange:t[10]||(t[10]=function(e){return c.uploadImage("logo","requisitesLogo")}),accept:".jpg,.jpeg,.png"},null,544)])],32))]),Object(s["g"])("div",k,[M,n.print?(Object(s["u"])(),Object(s["f"])("div",U,[Object(s["g"])("div",{class:"requisites-file-loaded__close",onClick:t[17]||(t[17]=function(e){return n.print=null})},S),Object(s["g"])("img",{src:n.print,alt:"Print"},null,8,x)])):(Object(s["u"])(),Object(s["f"])("div",{key:0,class:"requisites-file-field",onDragover:t[15]||(t[15]=Object(s["P"])((function(){}),["prevent"])),onDrop:t[16]||(t[16]=Object(s["P"])((function(e){return c.drop("print","requisitesPrint")}),["prevent"]))},[Object(s["g"])("label",P,[Object(s["i"])(Object(s["G"])(e.$isMobile?"":"Перетащите или ")+" ",1),Object(s["g"])("span",null,Object(s["G"])(e.$isMobile?"Выберите файл":"выберите"),1),Object(s["i"])(" "+Object(s["G"])(e.$isMobile?"":"файл")+" ",1),Object(s["g"])("input",{type:"file",id:"requisitesPrint",ref:"requisitesPrint",multiple:"",onChange:t[14]||(t[14]=function(e){return c.uploadImage("print","requisitesPrint")}),accept:".pdf,.jpg,.jpeg,.png"},null,544)])],32))])])]),Object(s["g"])("div",I,[Object(s["g"])("div",E,[Object(s["j"])($,{type:"filled",onClick:c.send},{default:Object(s["M"])((function(){return[R]})),_:1},8,["onClick"])])]),Object(s["g"])("div",D,[Object(s["g"])("div",L,[Object(s["j"])(V,{id:"requisitesSearch",placeholder:e.$isMobile?"Поиск":"Поиск по контрагенту или ИНН",search:!0,searchIcon:!0,suggestionWidth:380,suggestions:n.suggestions,onSetSuggestion:t[18]||(t[18]=function(e){return n.requisite=e}),onClear:t[19]||(t[19]=function(e){return n.requisite=""}),modelValue:n.requisite,"onUpdate:modelValue":t[20]||(t[20]=function(e){return n.requisite=e})},null,8,["placeholder","suggestions","modelValue"])])]),Object(s["g"])("div",A,[Object(s["j"])(B,{requisites:n.requisites},null,8,["requisites"])])]),Object(s["j"])(N,{open:n.openModal,text:"Отправлено",onClose:t[21]||(t[21]=function(e){return n.openModal=!1})},null,8,["open"])],64)}var N=i("b85c"),T=(i("b0c0"),i("99af"),i("2141")),J=i("30a8"),F=i("4829"),W=function(e){return Object(s["x"])("data-v-7c277f5f"),e=e(),Object(s["v"])(),e},z={key:0,class:"requisites-table"},H=W((function(){return Object(s["g"])("thead",null,[Object(s["g"])("tr",null,[Object(s["g"])("th",null,"Компания"),Object(s["g"])("th",{class:"upp"},"Инн"),Object(s["g"])("th",null,"Адрес"),Object(s["g"])("th",null,"Телефон"),Object(s["g"])("th",null,"Эл. почта")])],-1)})),K={key:0},Q={class:"tooltip"},X={class:"tooltip"},Y={class:"tooltip"},Z={class:"tooltip"},ee={class:"tooltip"},te={key:1,class:"requisites-table-mobile table-mobile",ref:"table"},ie={class:"table-mobile-row"},se=W((function(){return Object(s["g"])("span",{class:"table-mobile__title requisites-table-mobile__title"}," Компания ",-1)})),le={class:"table-mobile__value"},ne={class:"table-mobile-row"},ce=W((function(){return Object(s["g"])("span",{class:"table-mobile__title requisites-table-mobile__title upp"}," Инн ",-1)})),oe={class:"table-mobile__value"},ae={class:"table-mobile-row"},ue=W((function(){return Object(s["g"])("span",{class:"table-mobile__title requisites-table-mobile__title"}," Адрес ",-1)})),re={class:"table-mobile__value"},be={class:"table-mobile-row"},de=W((function(){return Object(s["g"])("span",{class:"table-mobile__title requisites-table-mobile__title"}," Телефон ",-1)})),je={class:"table-mobile__value"},Oe={class:"table-mobile-row"},pe=W((function(){return Object(s["g"])("span",{class:"table-mobile__title requisites-table-mobile__title"}," Эл. почта ",-1)})),fe={class:"table-mobile__value"};function ge(e,t,i,l,n,c){var o=Object(s["D"])("tooltip");return e.$isMobile?i.requisites.length&&e.$isMobile?(Object(s["u"])(),Object(s["f"])("div",te,[(Object(s["u"])(!0),Object(s["f"])(s["a"],null,Object(s["A"])(i.requisites,(function(e,t){return Object(s["u"])(),Object(s["f"])("div",{class:"table-mobile-column",key:t},[Object(s["g"])("div",ie,[se,Object(s["g"])("span",le,Object(s["G"])(e.name),1)]),Object(s["g"])("div",ne,[ce,Object(s["g"])("span",oe,Object(s["G"])(e.inn),1)]),Object(s["g"])("div",ae,[ue,Object(s["g"])("span",re,Object(s["G"])(e.address),1)]),Object(s["g"])("div",be,[de,Object(s["g"])("span",je,Object(s["G"])(e.number),1)]),Object(s["g"])("div",Oe,[pe,Object(s["g"])("span",fe,Object(s["G"])(e.email),1)])])})),128))],512)):Object(s["e"])("",!0):(Object(s["u"])(),Object(s["f"])("table",z,[H,i.requisites.length?(Object(s["u"])(),Object(s["f"])("tbody",K,[(Object(s["u"])(!0),Object(s["f"])(s["a"],null,Object(s["A"])(i.requisites,(function(e,t){return Object(s["u"])(),Object(s["f"])("tr",{key:t},[Object(s["g"])("td",null,[Object(s["g"])("span",null,Object(s["G"])(e.name),1),Object(s["N"])((Object(s["u"])(),Object(s["f"])("span",Q,[Object(s["i"])(Object(s["G"])(e.name),1)])),[[o]])]),Object(s["g"])("td",null,[Object(s["g"])("span",null,Object(s["G"])(e.inn),1),Object(s["N"])((Object(s["u"])(),Object(s["f"])("span",X,[Object(s["i"])(Object(s["G"])(e.inn),1)])),[[o]])]),Object(s["g"])("td",null,[Object(s["g"])("span",null,Object(s["G"])(e.address),1),Object(s["N"])((Object(s["u"])(),Object(s["f"])("span",Y,[Object(s["i"])(Object(s["G"])(e.address),1)])),[[o]])]),Object(s["g"])("td",null,[Object(s["g"])("span",null,Object(s["G"])(e.number),1),Object(s["N"])((Object(s["u"])(),Object(s["f"])("span",Z,[Object(s["i"])(Object(s["G"])(e.number),1)])),[[o]])]),Object(s["g"])("td",null,[Object(s["g"])("span",null,Object(s["G"])(e.email),1),Object(s["N"])((Object(s["u"])(),Object(s["f"])("span",ee,[Object(s["i"])(Object(s["G"])(e.email),1)])),[[o]])])])})),128))])):Object(s["e"])("",!0)]))}var me={name:"CompanyRequisitesTable",props:{requisites:{type:Array}}},qe=(i("0fb0"),i("6b0d")),_e=i.n(qe);const ve=_e()(me,[["render",ge],["__scopeId","data-v-7c277f5f"]]);var he=ve,ye={name:"CompanyRequisites",components:{BaseInput:T["a"],BaseButton:J["a"],BaseModal:F["a"],CompanyRequisitesTable:he},data:function(){return{company:"",inn:"",address:"",city:"",country:"",index:"",phone:"",endCustomer:"",bio:"",position:"",requisite:"",logo:null,print:null,openModal:!1,requisites:[],suggestions:["8/21-ES","7/21-ES","6/21-ES","5/21-ES","5/21-ES","5/21-ES","5/21-ES","5/21-ES"]}},mounted:function(){this.getCompanies()},methods:{send:function(){this.openModal=!0},uploadImage:function(e,t){var i=this,s=this.$refs[t].files[0],l=new FileReader;l.readAsDataURL(s),l.onload=function(t){console.log(e),"logo"===e?i.logo=t.target.result:i.print=t.target.result}},drop:function(e,t){var i=window.event;i.preventDefault(),this.$refs[t].files=i.dataTransfer.files,this.uploadImage(e,t)},getCompanies:function(){var e=this;this.$api.get("".concat("https://51.250.6.131/api/v1","/company")).then((function(t){var i,s=Object(N["a"])(t.data.results);try{for(s.s();!(i=s.n()).done;){var l=i.value,n={id:l.id,name:l.name,inn:l.inn,address:"".concat(l.address_street&&l.address_street+","," ").concat(l.address_city&&l.address_city+","," ").concat(l.address_country&&l.address_country+","," ").concat(l.address_index&&l.address_index),number:"+".concat(l.phone_number),email:l.email,logo:l.logo,blankPhoto:l.blank_photo};e.requisites.push(n)}}catch(c){s.e(c)}finally{s.f()}}))}}};i("bebb");const we=_e()(ye,[["render",B],["__scopeId","data-v-4d7a662b"]]);t["default"]=we},"49d8":function(e,t,i){},bebb:function(e,t,i){"use strict";i("11a9")}}]);
//# sourceMappingURL=companyRequisites.86b7ea48.js.map