(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["companyRequisites"],{"0fb0":function(e,t,i){"use strict";i("49d8")},"11a9":function(e,t,i){},"26ad":function(e,t,i){"use strict";i.r(t);i("d3b7");var l=i("7a23"),s=i("c8de"),n=i.n(s),o=function(e){return Object(l["x"])("data-v-4d7a662b"),e=e(),Object(l["v"])(),e},c={class:"requisites"},a=o((function(){return Object(l["g"])("h1",{class:"requisites__title page__title"},"Реквизиты компании",-1)})),r={class:"requisites-content page-wrapper"},u={class:"requisites-fields"},b={class:"requisites-fields-row fields-row"},d={class:"requisites-fields-row fields-row _inn"},j={class:"requisites-fields-row fields-row"},O={class:"requisites-fields-row fields-row"},f={class:"requisites-fields-row fields-row"},p={class:"requisites-fields-row fields-row _index"},g={class:"requisites-fields-row fields-row"},m={class:"requisites-fields-row fields-row _email"},q={class:"requisites-fields-row fields-row"},v={class:"requisites-fields-row fields-row _position"},_={class:"requisites-file _logo"},h=o((function(){return Object(l["g"])("h5",{class:"requisites-file__title"},"Логотип",-1)})),y={for:"requisitesLogo"},w={key:1,class:"requisites-file-loaded"},V=o((function(){return Object(l["g"])("img",{src:n.a,alt:"Remove"},null,-1)})),C=[V],F=["src"],M={class:"requisites-file"},k=o((function(){return Object(l["g"])("h5",{class:"requisites-file__title"},"Оттиск печати",-1)})),S={for:"requisitesPrint"},I={key:1,class:"requisites-file-loaded"},U=o((function(){return Object(l["g"])("img",{src:n.a,alt:"Remove"},null,-1)})),$=[U],x=["src"],E={class:"requisites-buttons page-buttons _save"},P={class:"requisites__send _save__button"},L=Object(l["i"])(" Сохранить "),R={class:"requisites-search page-wrapper"},A={class:"requisites-search-field"},D={class:"page-wrapper"};function B(e,t,i,s,n,o){var V=Object(l["C"])("base-input"),U=Object(l["C"])("base-button"),B=Object(l["C"])("company-requisites-table"),T=Object(l["C"])("base-modal");return Object(l["u"])(),Object(l["f"])(l["a"],null,[Object(l["g"])("section",c,[a,Object(l["g"])("div",r,[Object(l["g"])("div",u,[Object(l["g"])("div",b,[Object(l["j"])(V,{id:"requisitesCompany",label:"Компания",modelValue:n.company,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.company=e})},null,8,["modelValue"])]),Object(l["g"])("div",d,[Object(l["j"])(V,{id:"requisitesInn",label:"ИНН",modelValue:n.inn,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.inn=e})},null,8,["modelValue"])]),Object(l["g"])("div",j,[Object(l["j"])(V,{id:"requisitesAddress",label:"Адрес",modelValue:n.address,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.address=e})},null,8,["modelValue"])]),Object(l["g"])("div",O,[Object(l["j"])(V,{id:"requisitesCity",label:"Город",modelValue:n.city,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.city=e})},null,8,["modelValue"])]),Object(l["g"])("div",f,[Object(l["j"])(V,{id:"requisitesCountry",label:"Страна",modelValue:n.country,"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.country=e})},null,8,["modelValue"])]),Object(l["g"])("div",p,[Object(l["j"])(V,{id:"requisitesIndex",label:"Индекс",short:!0,modelValue:n.index,"onUpdate:modelValue":t[5]||(t[5]=function(e){return n.index=e})},null,8,["modelValue"])]),Object(l["g"])("div",g,[Object(l["j"])(V,{id:"requisitesPhone",label:"Телефон",modelValue:n.phone,"onUpdate:modelValue":t[6]||(t[6]=function(e){return n.phone=e})},null,8,["modelValue"])]),Object(l["g"])("div",m,[Object(l["j"])(V,{id:"requisitesEmail",label:"Электронная почта",modelValue:n.endCustomer,"onUpdate:modelValue":t[7]||(t[7]=function(e){return n.endCustomer=e})},null,8,["modelValue"])]),Object(l["g"])("div",q,[Object(l["j"])(V,{id:"requisitesBio",label:"ФИО",modelValue:n.bio,"onUpdate:modelValue":t[8]||(t[8]=function(e){return n.bio=e})},null,8,["modelValue"])]),Object(l["g"])("div",v,[Object(l["j"])(V,{id:"requisitesPosition",label:"Должность",modelValue:n.position,"onUpdate:modelValue":t[9]||(t[9]=function(e){return n.position=e})},null,8,["modelValue"])]),Object(l["g"])("div",_,[h,n.logo?(Object(l["u"])(),Object(l["f"])("div",w,[Object(l["g"])("div",{class:"requisites-file-loaded__close",onClick:t[13]||(t[13]=function(e){return n.logo=null})},C),Object(l["g"])("img",{src:n.logo,alt:"Logo"},null,8,F)])):(Object(l["u"])(),Object(l["f"])("div",{key:0,class:"requisites-file-field",onDragover:t[11]||(t[11]=Object(l["O"])((function(){}),["prevent"])),onDrop:t[12]||(t[12]=function(e){return o.drop("logo","requisitesLogo")})},[Object(l["g"])("label",y,[Object(l["i"])(Object(l["F"])(e.$isMobile?"":"Перетащите или ")+" ",1),Object(l["g"])("span",null,Object(l["F"])(e.$isMobile?"Выберите файл":"выберите"),1),Object(l["i"])(" "+Object(l["F"])(e.$isMobile?"":"файл")+" ",1),Object(l["g"])("input",{type:"file",id:"requisitesLogo",ref:"requisitesLogo",multiple:"",onChange:t[10]||(t[10]=function(e){return o.uploadImage("logo","requisitesLogo")}),accept:".jpg,.jpeg,.png"},null,544)])],32))]),Object(l["g"])("div",M,[k,n.print?(Object(l["u"])(),Object(l["f"])("div",I,[Object(l["g"])("div",{class:"requisites-file-loaded__close",onClick:t[17]||(t[17]=function(e){return n.print=null})},$),Object(l["g"])("img",{src:n.print,alt:"Print"},null,8,x)])):(Object(l["u"])(),Object(l["f"])("div",{key:0,class:"requisites-file-field",onDragover:t[15]||(t[15]=Object(l["O"])((function(){}),["prevent"])),onDrop:t[16]||(t[16]=Object(l["O"])((function(e){return o.drop("print","requisitesPrint")}),["prevent"]))},[Object(l["g"])("label",S,[Object(l["i"])(Object(l["F"])(e.$isMobile?"":"Перетащите или ")+" ",1),Object(l["g"])("span",null,Object(l["F"])(e.$isMobile?"Выберите файл":"выберите"),1),Object(l["i"])(" "+Object(l["F"])(e.$isMobile?"":"файл")+" ",1),Object(l["g"])("input",{type:"file",id:"requisitesPrint",ref:"requisitesPrint",multiple:"",onChange:t[14]||(t[14]=function(e){return o.uploadImage("print","requisitesPrint")}),accept:".pdf,.jpg,.jpeg,.png"},null,544)])],32))])])]),Object(l["g"])("div",E,[Object(l["g"])("div",P,[Object(l["j"])(U,{type:"filled",onClick:o.send},{default:Object(l["L"])((function(){return[L]})),_:1},8,["onClick"])])]),Object(l["g"])("div",R,[Object(l["g"])("div",A,[Object(l["j"])(V,{id:"requisitesSearch",placeholder:e.$isMobile?"Поиск":"Поиск по контрагенту или ИНН",search:!0,searchIcon:!0,suggestionWidth:380,suggestions:n.suggestions,onSetSuggestion:t[18]||(t[18]=function(e){return n.requisite=e}),onClear:t[19]||(t[19]=function(e){return n.requisite=""}),modelValue:n.requisite,"onUpdate:modelValue":t[20]||(t[20]=function(e){return n.requisite=e})},null,8,["placeholder","suggestions","modelValue"])])]),Object(l["g"])("div",D,[Object(l["j"])(B,{requisites:n.requisites},null,8,["requisites"])])]),Object(l["j"])(T,{open:n.openModal,text:"Отправлено",onClose:t[21]||(t[21]=function(e){return n.openModal=!1})},null,8,["open"])],64)}var T=i("b85c"),J=(i("b0c0"),i("99af"),i("2141")),W=i("30a8"),z=i("4829"),G=function(e){return Object(l["x"])("data-v-7c277f5f"),e=e(),Object(l["v"])(),e},H={key:0,class:"requisites-table"},K=G((function(){return Object(l["g"])("thead",null,[Object(l["g"])("tr",null,[Object(l["g"])("th",null,"Компания"),Object(l["g"])("th",{class:"upp"},"Инн"),Object(l["g"])("th",null,"Адрес"),Object(l["g"])("th",null,"Телефон"),Object(l["g"])("th",null,"Эл. почта")])],-1)})),N={key:0},Q={class:"tooltip"},X={class:"tooltip"},Y={class:"tooltip"},Z={class:"tooltip"},ee={class:"tooltip"},te={key:1,class:"requisites-table-mobile table-mobile",ref:"table"},ie={class:"table-mobile-row"},le=G((function(){return Object(l["g"])("span",{class:"table-mobile__title requisites-table-mobile__title"}," Компания ",-1)})),se={class:"table-mobile__value"},ne={class:"table-mobile-row"},oe=G((function(){return Object(l["g"])("span",{class:"table-mobile__title requisites-table-mobile__title upp"}," Инн ",-1)})),ce={class:"table-mobile__value"},ae={class:"table-mobile-row"},re=G((function(){return Object(l["g"])("span",{class:"table-mobile__title requisites-table-mobile__title"}," Адрес ",-1)})),ue={class:"table-mobile__value"},be={class:"table-mobile-row"},de=G((function(){return Object(l["g"])("span",{class:"table-mobile__title requisites-table-mobile__title"}," Телефон ",-1)})),je={class:"table-mobile__value"},Oe={class:"table-mobile-row"},fe=G((function(){return Object(l["g"])("span",{class:"table-mobile__title requisites-table-mobile__title"}," Эл. почта ",-1)})),pe={class:"table-mobile__value"};function ge(e,t,i,s,n,o){var c=Object(l["D"])("tooltip");return e.$isMobile?i.requisites.length&&e.$isMobile?(Object(l["u"])(),Object(l["f"])("div",te,[(Object(l["u"])(!0),Object(l["f"])(l["a"],null,Object(l["A"])(i.requisites,(function(e,t){return Object(l["u"])(),Object(l["f"])("div",{class:"table-mobile-column",key:t},[Object(l["g"])("div",ie,[le,Object(l["g"])("span",se,Object(l["F"])(e.name),1)]),Object(l["g"])("div",ne,[oe,Object(l["g"])("span",ce,Object(l["F"])(e.inn),1)]),Object(l["g"])("div",ae,[re,Object(l["g"])("span",ue,Object(l["F"])(e.address),1)]),Object(l["g"])("div",be,[de,Object(l["g"])("span",je,Object(l["F"])(e.number),1)]),Object(l["g"])("div",Oe,[fe,Object(l["g"])("span",pe,Object(l["F"])(e.email),1)])])})),128))],512)):Object(l["e"])("",!0):(Object(l["u"])(),Object(l["f"])("table",H,[K,i.requisites.length?(Object(l["u"])(),Object(l["f"])("tbody",N,[(Object(l["u"])(!0),Object(l["f"])(l["a"],null,Object(l["A"])(i.requisites,(function(e,t){return Object(l["u"])(),Object(l["f"])("tr",{key:t},[Object(l["g"])("td",null,[Object(l["g"])("span",null,Object(l["F"])(e.name),1),Object(l["M"])((Object(l["u"])(),Object(l["f"])("span",Q,[Object(l["i"])(Object(l["F"])(e.name),1)])),[[c]])]),Object(l["g"])("td",null,[Object(l["g"])("span",null,Object(l["F"])(e.inn),1),Object(l["M"])((Object(l["u"])(),Object(l["f"])("span",X,[Object(l["i"])(Object(l["F"])(e.inn),1)])),[[c]])]),Object(l["g"])("td",null,[Object(l["g"])("span",null,Object(l["F"])(e.address),1),Object(l["M"])((Object(l["u"])(),Object(l["f"])("span",Y,[Object(l["i"])(Object(l["F"])(e.address),1)])),[[c]])]),Object(l["g"])("td",null,[Object(l["g"])("span",null,Object(l["F"])(e.number),1),Object(l["M"])((Object(l["u"])(),Object(l["f"])("span",Z,[Object(l["i"])(Object(l["F"])(e.number),1)])),[[c]])]),Object(l["g"])("td",null,[Object(l["g"])("span",null,Object(l["F"])(e.email),1),Object(l["M"])((Object(l["u"])(),Object(l["f"])("span",ee,[Object(l["i"])(Object(l["F"])(e.email),1)])),[[c]])])])})),128))])):Object(l["e"])("",!0)]))}var me={name:"CompanyRequisitesTable",props:{requisites:{type:Array}}},qe=(i("0fb0"),i("6b0d")),ve=i.n(qe);const _e=ve()(me,[["render",ge],["__scopeId","data-v-7c277f5f"]]);var he=_e,ye={name:"CompanyRequisites",components:{BaseInput:J["a"],BaseButton:W["a"],BaseModal:z["a"],CompanyRequisitesTable:he},data:function(){return{company:"",inn:"",address:"",city:"",country:"",index:"",phone:"",endCustomer:"",bio:"",position:"",requisite:"",logo:null,print:null,openModal:!1,requisites:[],suggestions:["8/21-ES","7/21-ES","6/21-ES","5/21-ES","5/21-ES","5/21-ES","5/21-ES","5/21-ES"]}},mounted:function(){this.getCompanies()},methods:{send:function(){this.openModal=!0},uploadImage:function(e,t){var i=this,l=this.$refs[t].files[0],s=new FileReader;s.readAsDataURL(l),s.onload=function(t){console.log(e),"logo"===e?i.logo=t.target.result:i.print=t.target.result}},drop:function(e,t){var i=window.event;i.preventDefault(),this.$refs[t].files=i.dataTransfer.files,this.uploadImage(e,t)},getCompanies:function(){var e=this;this.$api.get("".concat("https://51.250.6.131/api/v1","/company")).then((function(t){var i,l=Object(T["a"])(t.data.results);try{for(l.s();!(i=l.n()).done;){var s=i.value,n={id:s.id,name:s.name,inn:s.inn,address:"".concat(s.address_street&&s.address_street+","," ").concat(s.address_city&&s.address_city+","," ").concat(s.address_country&&s.address_country+","," ").concat(s.address_index&&s.address_index),number:"+".concat(s.phone_number),email:s.email,logo:s.logo,blankPhoto:s.blank_photo};e.requisites.push(n)}}catch(o){l.e(o)}finally{l.f()}}))}}};i("bebb");const we=ve()(ye,[["render",B],["__scopeId","data-v-4d7a662b"]]);t["default"]=we},"49d8":function(e,t,i){},b85c:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),i("d9e2"),i("d401");var l=i("06c5");function s(e,t){var i="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=Object(l["a"])(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var s=0,n=function(){};return{s:n,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,a=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return c=e.done,e},e:function(e){a=!0,o=e},f:function(){try{c||null==i["return"]||i["return"]()}finally{if(a)throw o}}}}},bebb:function(e,t,i){"use strict";i("11a9")}}]);
//# sourceMappingURL=companyRequisites.378d12f7.js.map