(window.webpackJsonp=window.webpackJsonp||[]).push([[75,18,20,28,29,40,57,58,79,84,89],{521:function(t,e,n){"use strict";n.r(e);n(30);var r=n(62),o=n(522),c={name:"SubscribesButton",components:{RcButton:r.default,RcPopover:o.default},props:{profileId:{type:Number,required:!0},text:{type:String,default:""}},computed:{buttonText:function(){return this.isSubscribed?"вы подписаны":"".concat(this.text?this.text:"подписаться")},isSubscribed:function(){return this.$isSubscribed(this.$store,this.profileId)},activePlan:function(){return this.$getActivePlan(this.$store,this.profileId)},activePlanTitle:function(){var t;return null===(t=this.activePlan)||void 0===t?void 0:t.title},isMyProfile:function(){var t,e,n;return(null!==(t=null===(e=this.$auth.user)||void 0===e?void 0:e.pid)&&void 0!==t?t:null===(n=this.$auth.user)||void 0===n?void 0:n.id)===this.profileId}},mounted:function(){var t=this;this.$nuxt.$once("subscribe",(function e(n){n===t._uid&&(console.log("Subscribe!",n),t.$emit("subscribe")),t.$nuxt.$once("subscribe",e)})),this.$nuxt.$once("unsubscribe",(function e(n){n===t._uid&&(console.log("Unsubscribe!",n),t.$emit("subscribe")),t.$nuxt.$once("unsubscribe",e)}))},methods:{subscribe:function(){this.isMyProfile||this.$openSubscribeModal(this.profileId,this._uid)}}},l=n(0),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("rc-popover",{attrs:{enabled:t.isSubscribed,"auto-hide":!1},scopedSlots:t._u([{key:"popover",fn:function(){return[t._v('\n    Вы подписаны на тариф "'+t._s(t.activePlanTitle)+'"\n  ')]},proxy:!0}])},[n("rc-button",{staticClass:"subscribes-button",class:{"subscribes-button--active":t.isSubscribed},attrs:{light:!0,small:!0,disabled:t.isMyProfile},nativeOn:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.subscribe.apply(null,arguments)}}},[t._v("\n    "+t._s(t.buttonText)+"\n  ")])],1)}),[],!1,null,null,null);e.default=component.exports},522:function(t,e,n){"use strict";n.r(e);var r={name:"RcPopover",props:{enabled:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},autoHide:{type:Boolean,default:!0},show:{type:Boolean,default:void 0}},data:function(){return{loaded:!1}},computed:{enabledActual:function(){return!!this.loaded&&this.enabled}},mounted:function(){this.loaded=!0}},o=n(0),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.enabledActual?"v-popover":"div",{tag:"component",attrs:{trigger:t.enabled?t.trigger:void 0,"auto-hide":t.enabled?t.autoHide:void 0,show:t.enabled?t.show:void 0},scopedSlots:t._u([t.enabled?{key:"popover",fn:function(){return[t._t("popover")]},proxy:!0}:null],null,!0)},[t._t("default")],2)}),[],!1,null,null,null);e.default=component.exports},523:function(t,e,n){"use strict";n.r(e);n(13),n(10),n(12),n(8),n(15),n(11),n(16);var r=n(4),o=n(6),c=n(7),l=n(36),f=n(521);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={name:"FeedRecommendationItem",components:{CustomIcon:c.default,AvatarImage:l.default,SubscribesButton:f.default},props:{item:{type:Object,required:!0}},computed:{profileUrl:function(){return this.$routeToProfile(this.item)},creatorName:function(){return this.$userDisplayingName(this.item)},countSubs:function(){var t;return(null===(t=this.item)||void 0===t?void 0:t.subscribers_total)||0},avatarUrl:function(){return this.$userAvatar(this.item)}},methods:m(m({},Object(o.b)("feed",["recommendsAction"])),{},{handleSubscribe:function(){this.recommendsAction()}})},h=n(0),component=Object(h.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nuxt-link",{staticClass:"recommendation-card feed-recommendation-item",attrs:{to:t.profileUrl}},[n("avatar-image",{staticClass:"flex items-center justify-center w-full",attrs:{src:t.avatarUrl,"img-class":"w-[80px] h-[80px] xs:w-[60px] xs:h-[60px]"}}),t._v(" "),n("div",{staticClass:"flex mx-auto mb-[1px] justify-center items-center mt-2 xs:mt-3"},[n("span",{staticClass:"text-black-100 f-bold leading-[18px] text-ellipsis max-w-[125px] xs:max-w-[105px] overflow-hidden whitespace-nowrap feed-recommendation-item__creator-name"},[t._v("\n      "+t._s(t.creatorName)+"\n    ")]),t._v(" "),n("custom-icon",{attrs:{"icon-id":"#i-arrow-right-sm",classes:"stroke-black-80",width:20,height:20}})],1),t._v(" "),n("p",{staticClass:"text-center text-black-60 f-regular leading-5 mb-4 xs:mb-1 feed-recommendation-item__subscribers-count"},[t._v("\n    "+t._s(t.countSubs)+"\n    "+t._s(t.$quantDecline(t.countSubs,["подписчик","подписчика","подписчиков"]))+"\n  ")]),t._v(" "),n("subscribes-button",{attrs:{"profile-id":t.item.id},on:{subscribe:t.handleSubscribe}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{SubscribesButton:n(521).default})},524:function(t,e,n){"use strict";n.r(e);n(13),n(10),n(12),n(8),n(15),n(11),n(16);var r=n(4),o=n(6),c=n(7),l=n(523),f=n(525);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={name:"FeedRecommendation",components:{CustomIcon:c.default,FeedRecommendationItem:l.default},mixins:[f.a],computed:m(m({},Object(o.e)("feed",["recommends"])),{},{items:function(){return this.recommends}}),methods:{scrollBy:function(t){var e,n;null===(e=this.$refs.itemsList)||void 0===e||null===(n=e.scrollBy)||void 0===n||n.call(e,{left:t,behavior:"smooth"})}}},h=n(0),component=Object(h.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"itemsContainer",staticClass:"relative w-full"},[t.showScrollButtons?[n("div",{staticClass:"recommendation-arrow-button__container recommendation-arrow-button__container--left"},[n("button",{staticClass:"recommendation-arrow-button recommendation-arrow-button--left xs:hidden",on:{click:function(e){return t.scrollBy(-190)}}},[n("custom-icon",{attrs:{"icon-id":"#i-arrow-left",classes:"stroke-white-100"}})],1)]),t._v(" "),n("div",{staticClass:"recommendation-arrow-button__container"},[n("button",{staticClass:"recommendation-arrow-button xs:hidden",on:{click:function(e){return t.scrollBy(190)}}},[n("custom-icon",{attrs:{"icon-id":"#i-arrow-right",classes:"stroke-white-100"}})],1)])]:t._e(),t._v(" "),n("div",{ref:"itemsList",staticClass:"xs:mb-0 xs:py-3 overflow-x-auto flex hide-scrollbar relative mb-3"},t._l(t.items,(function(t,e){return n("feed-recommendation-item",{key:e,attrs:{item:t}})})),1)],2)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{FeedRecommendationItem:n(523).default})},525:function(t,e,n){"use strict";n(8),n(11);e.a={data:function(){return{showScrollButtons:!1}},computed:{containerRef:function(){return this.$refs.itemsContainer},itemsRef:function(){return this.$refs.itemsList}},mounted:function(){var t=this;this.prepareScrollbar(),function(element,t){if(element){var e={root:document.documentElement};new IntersectionObserver((function(e){e.forEach((function(e){t(e.intersectionRatio>0)}))}),e).observe(element)}}(this.containerRef,(function(){t.prepareScrollbar()}))},methods:{prepareScrollbar:function(){var t,e;this.showScrollButtons=(null===(t=this.itemsRef)||void 0===t?void 0:t.scrollWidth)>(null===(e=this.containerRef)||void 0===e?void 0:e.clientWidth)}}}},530:function(t,e,n){"use strict";n.r(e);var r={name:"ProfileRecommends",components:{FeedRecommendation:n(524).default}},o=n(0),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",{staticClass:"f-medium text-lg text-black pt-[19px] pb-4 xs:pb-1 pl-6 xs:pt-4 xs:pl-3"},[t._v("\n    Рекомендации\n  ")]),t._v(" "),n("feed-recommendation")],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{FeedRecommendation:n(524).default})},531:function(t,e,n){"use strict";n.r(e);var r={name:"RcLink",props:{to:{type:[Object,String],default:null},withBg:Boolean,small:Boolean,light:Boolean,outlined:Boolean,classes:{type:String,default:""}}},o=n(0),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("nuxt-link",{staticClass:"rc-link",class:[{"rc-link--withBg":t.withBg,"rc-link--small":t.small,"rc-link--light":t.light,"rc-link--outlined":t.outlined},t.classes],attrs:{to:t.to}},[t._t("icon"),t._v(" "),t._t("default")],2)}),[],!1,null,null,null);e.default=component.exports},539:function(t,e,n){"use strict";n.r(e);var r={components:{RcButton:n(62).default},methods:{clickHandle:function(){this.$emit("click")}}},o=n(0),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("rc-button",{attrs:{outlined:!0,"transparent-bg":!0,classes:"max-w-[360px] h-[50px] w-full text-purple-80 xs:h-8 xs:max-w-full"},on:{click:t.clickHandle}},[n("span",{staticClass:"text-xl mr-2 f-regular"},[t._v("+")]),t._v(" "),t._t("default")],2)}),[],!1,null,null,null);e.default=component.exports},549:function(t,e,n){"use strict";n.r(e);var r={name:"ProfileInfoBlock",components:{CustomIcon:n(7).default},data:function(){return{show:!0}}},o=n(0),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"w-full profile-info-block xs:px-2 xs:pt-[16px] xs:pb-[37px] xs:bg-white-100"},[n("div",{staticClass:"h-[170px] bg-white-80 rounded-sm relative flex flex-col items-center pt-2"},[n("div",{staticClass:"absolute top-2 right-2 cursor-pointer",on:{click:function(e){t.show=!1}}},[n("custom-icon",{attrs:{"icon-id":"#i-main-close",width:30,height:30,classes:"fill-black-40"}})],1),t._v(" "),n("div",[n("custom-icon",{attrs:{"icon-id":"#i-find-smile",width:100,height:100}})],1),t._v(" "),n("p",{staticClass:"f-regular font-sm text-black-80"},[t._t("text")],2),t._v(" "),n("div",[t._t("link")],2)])]):t._e()}),[],!1,null,null,null);e.default=component.exports},706:function(t,e,n){"use strict";n.r(e);n(30);var r={components:{ImgWithPlaceholder:n(117).default},props:{action:{type:Object,default:function(){return{}}},image:{type:String,default:""},subscribers:{type:[Number,String],default:0}}},o=n(0),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"action-subscribe-row"},[n("img-with-placeholder",{staticClass:"action-subscribe-row__avatar",attrs:{src:t.$actionImage(t.image)}}),t._v(" "),n("div",{staticClass:"action-subscribe-row-info"},[n("div",{staticClass:"action-subscribe-row-info-header"},[n("div",{staticClass:"w-full"},[n("h3",{staticClass:"action-subscribe-row__title text-base"},[t._t("action-title")],2),t._v(" "),n("span",{staticClass:"action-subscribe-row__count"},[t._v("\n          "+t._s(t.$numberLength(t.subscribers))+"\n          "+t._s(t.$quantDecline(t.subscribers,["человек","человека","людей"]))+"\n        ")])])]),t._v(" "),n("div",{staticClass:"action-subscribe-row__access flex items-center h-[100%]"},[n("span",{staticClass:"text-sm text-black-40 mr-2 xs:hidden"},[t._t("action-access")],2),t._v(" "),t._t("button")],2)])],1)}),[],!1,null,null,null);e.default=component.exports},794:function(t,e,n){"use strict";n.r(e);n(13),n(10),n(12),n(8),n(15),n(11),n(16);var r=n(4),o=n(6),c=n(530),l=n(549),f=n(531),d=n(62),m=n(539),v=n(706);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var x={name:"ProfileDiscussions",components:{ProfileInfoBlock:l.default,RcLink:f.default,RcButton:d.default,CreateBigButton:m.default,ActionSubscribeRow:v.default,ProfileRecommends:c.default},data:function(){return{discussions:[{id:0,avatar:"",title:"Тестовое название",subscribers:150,access:"для всех",description:"Краткое описание чата",free:!0,isSubscribed:!1},{id:1,avatar:"",title:"Тестовое название",subscribers:12500,access:"для premium",description:"Краткое описание чата",free:!1,isSubscribed:!1},{id:2,avatar:"",title:"Тестовое название",subscribers:1484680,access:"для всех",description:"Краткое описание чата",free:!0,isSubscribed:!1},{id:3,avatar:"",title:"Тестовое название",subscribers:15e4,access:"для всех",description:"Краткое описание чата",free:!0,isSubscribed:!1}]}},computed:_(_({},Object(o.e)("profile",["profile"])),{},{profileId:function(){var t;return null===(t=this.profile)||void 0===t?void 0:t.id}})},w=n(0),component=Object(w.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"profile-discussions"},[t.$selfProfile(t.profile)?n("div",{staticClass:"w-full flex justify-center mt-8 pb-2 xs:mt-0 xs:pt-4 xs:pb-6 xs:px-2 xs:bg-white-100"},[n("create-big-button",[t._v(" создать обсуждение ")])],1):[n("profile-info-block",{scopedSlots:t._u([{key:"text",fn:function(){return[t._v(" Здесь собраны все обсуждения канала ")]},proxy:!0},{key:"link",fn:function(){return[n("rc-link",{staticClass:"f-medium text-lg text-purple-80",attrs:{to:t.$routeToProfile(t.profile)}},[t._v("\n          "+t._s(t.$userDisplayingName(t.profile))+"\n        ")])]},proxy:!0}],null,!1,3697720383)})],t._v(" "),n("div",{staticClass:"profile-discussions-wrapper"},[t._l(t.discussions,(function(e){return[n("action-subscribe-row",{key:e.id,attrs:{subscribers:e.subscribers,image:e.image},scopedSlots:t._u([{key:"action-title",fn:function(){return[t._v("\n          "+t._s(e.title)+"\n        ")]},proxy:!0},{key:"action-access",fn:function(){return[t._v("\n          "+t._s(e.access)+"\n        ")]},proxy:!0},{key:"button",fn:function(){return[n("rc-button",{attrs:{active:e.isSubscribed,disabled:!e.free,small:!0,light:"",classes:"w-[140px]"},on:{click:function(t){e.isSubscribed=!e.isSubscribed}}},[t._v("\n            "+t._s(e.isSubscribed&&e.free?"вы вступили":"вступить")+"\n          ")])]},proxy:!0}],null,!0)})]}))],2),t._v(" "),n("profile-recommends")],2)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ProfileInfoBlock:n(549).default,ProfileRecommends:n(530).default})}}]);